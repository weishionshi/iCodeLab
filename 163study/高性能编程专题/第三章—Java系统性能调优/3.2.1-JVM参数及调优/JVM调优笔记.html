<!DOCTYPE HTML><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=unicode">
<title>无标题</title>
    
<style id="wiz_custom_css">html, .wiz-editor-body {font-size: 12pt;}.wiz-editor-body {font-family: Helvetica, 'Hiragino Sans GB', '寰蒋闆呴粦', 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;line-height: 1.7;margin: 0 auto;padding: 20px 16px;padding: 1.25rem 1rem;}.wiz-editor-body h1,.wiz-editor-body h2,.wiz-editor-body h3,.wiz-editor-body h4,.wiz-editor-body h5,.wiz-editor-body h6 {margin:20px 0 10px;margin:1.25rem 0 0.625rem;padding: 0;font-weight: bold;}.wiz-editor-body h1 {font-size:20pt;font-size:1.67rem;}.wiz-editor-body h2 {font-size:18pt;font-size:1.5rem;}.wiz-editor-body h3 {font-size:15pt;font-size:1.25rem;}.wiz-editor-body h4 {font-size:14pt;font-size:1.17rem;}.wiz-editor-body h5 {font-size:12pt;font-size:1rem;}.wiz-editor-body h6 {font-size:12pt;font-size:1rem;color: #777777;margin: 1rem 0;}.wiz-editor-body div,.wiz-editor-body p,.wiz-editor-body ul,.wiz-editor-body ol,.wiz-editor-body dl,.wiz-editor-body li {margin:8px 0;}.wiz-editor-body blockquote,.wiz-editor-body table,.wiz-editor-body pre,.wiz-editor-body code {margin:8px 0;}.wiz-editor-body .CodeMirror pre {margin:0;}.wiz-editor-body ul,.wiz-editor-body ol {padding-left:32px;padding-left:2rem;}.wiz-editor-body ol.wiz-list-level1 > li {list-style-type:decimal;}.wiz-editor-body ol.wiz-list-level2 > li {list-style-type:lower-latin;}.wiz-editor-body ol.wiz-list-level3 > li {list-style-type:lower-roman;}.wiz-editor-body blockquote {padding: 0 12px;}.wiz-editor-body blockquote > :first-child {margin-top:0;}.wiz-editor-body blockquote > :last-child {margin-bottom:0;}.wiz-editor-body img {border:0;max-width:100%;height:auto !important;margin:2px 0;}.wiz-editor-body table {border-collapse:collapse;border:1px solid #bbbbbb;}.wiz-editor-body td,.wiz-editor-body th {padding:4px 8px;border-collapse:collapse;border:1px solid #bbbbbb;min-height:28px;word-break:break-word;box-sizing: border-box;}.wiz-hide {display:none !important;}</style><style id="wiz_code_style">.wiz-editor-body .wiz-code-container{position: relative; padding:8px 0; margin: 5px 25px 5px 5px;text-indent:0; text-align:left;}.CodeMirror {font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace; color: black; font-size: 10.5pt; font-size: 0.875rem}.wiz-editor-body .wiz-code-container .CodeMirror div {margin-top: 0; margin-bottom: 0;}.CodeMirror-lines {padding: 4px 0;}.CodeMirror pre {padding: 0 4px;}.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {background-color: white;}.CodeMirror-gutters {border-right: 1px solid #ddd; background-color: #f7f7f7; white-space: nowrap;}.CodeMirror-linenumbers {}.CodeMirror-linenumber {padding: 0 3px 0 5px; min-width: 20px; text-align: right; color: #999; white-space: nowrap;}.CodeMirror-guttermarker {color: black;}.CodeMirror-guttermarker-subtle {color: #999;}.CodeMirror-cursor {border-left: 1px solid black; border-right: none; width: 0;}.CodeMirror div.CodeMirror-secondarycursor {border-left: 1px solid silver;}.cm-fat-cursor .CodeMirror-cursor {width: auto; border: 0 !important; background: #7e7;}.cm-fat-cursor div.CodeMirror-cursors {z-index: 1;}.cm-animate-fat-cursor {width: auto; border: 0; -webkit-animation: blink 1.06s steps(1) infinite; -moz-animation: blink 1.06s steps(1) infinite; animation: blink 1.06s steps(1) infinite; background-color: #7e7;}@-moz-keyframes blink {  0% {}  50% { background-color: transparent; }  100% {}}@-webkit-keyframes blink {  0% {}  50% { background-color: transparent; }  100% {}}@keyframes blink {  0% {}  50% { background-color: transparent; }  100% {}}.CodeMirror-overwrite .CodeMirror-cursor {}.cm-tab { display: inline-block; text-decoration: inherit; }.CodeMirror-rulers {position: absolute; left: 0; right: 0; top: -50px; bottom: -20px; overflow: hidden;}.CodeMirror-ruler {border-left: 1px solid #ccc; top: 0; bottom: 0; position: absolute;}.cm-s-default .cm-header {color: blue;}.cm-s-default .cm-quote {color: #090;}.cm-negative {color: #d44;}.cm-positive {color: #292;}.cm-header, .cm-strong {font-weight: bold;}.cm-em {font-style: italic;}.cm-link {text-decoration: underline;}.cm-strikethrough {text-decoration: line-through;}.cm-s-default .cm-keyword {color: #708;}.cm-s-default .cm-atom {color: #219;}.cm-s-default .cm-number {color: #164;}.cm-s-default .cm-def {color: #00f;}.cm-s-default .cm-variable,.cm-s-default .cm-punctuation,.cm-s-default .cm-property,.cm-s-default .cm-operator {}.cm-s-default .cm-variable-2 {color: #05a;}.cm-s-default .cm-variable-3 {color: #085;}.cm-s-default .cm-comment {color: #a50;}.cm-s-default .cm-string {color: #a11;}.cm-s-default .cm-string-2 {color: #f50;}.cm-s-default .cm-meta {color: #555;}.cm-s-default .cm-qualifier {color: #555;}.cm-s-default .cm-builtin {color: #30a;}.cm-s-default .cm-bracket {color: #997;}.cm-s-default .cm-tag {color: #170;}.cm-s-default .cm-attribute {color: #00c;}.cm-s-default .cm-hr {color: #999;}.cm-s-default .cm-link {color: #00c;}.cm-s-default .cm-error {color: #f00;}.cm-invalidchar {color: #f00;}.CodeMirror-composing { border-bottom: 2px solid; }div.CodeMirror span.CodeMirror-matchingbracket {color: #0f0;}div.CodeMirror span.CodeMirror-nonmatchingbracket {color: #f22;}.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }.CodeMirror-activeline-background {background: #e8f2ff;}.CodeMirror {position: relative; background: #f5f5f5;}.CodeMirror-scroll {overflow: hidden !important; margin-bottom: 0; margin-right: -30px; padding: 16px 30px 16px 0; outline: none; position: relative;}.CodeMirror-sizer {position: relative; border-right: 30px solid transparent;}.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {position: absolute; z-index: 6; display: none;}.CodeMirror-vscrollbar {right: 0; top: 0; overflow-x: hidden; overflow-y: scroll;}.CodeMirror-hscrollbar {bottom: 0; left: 0 !important; overflow-y: hidden; overflow-x: scroll;}.CodeMirror-scrollbar-filler {right: 0; bottom: 0;}.CodeMirror-gutter-filler {left: 0; bottom: 0;}.CodeMirror-gutters {position: absolute; left: 0; top: -5px; min-height: 100%; z-index: 3;}.CodeMirror-gutter {white-space: normal; height: inherit; display: inline-block; vertical-align: top; margin-bottom: -30px;}.CodeMirror-gutter-wrapper {position: absolute; z-index: 4; background: none !important; border: none !important;}.CodeMirror-gutter-background {position: absolute; top: 0; bottom: 0; z-index: 4;}.CodeMirror-gutter-elt {position: absolute; cursor: default; z-index: 4; text-align: center;}.CodeMirror-gutter-wrapper ::selection { background-color: transparent }.CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }.CodeMirror-lines {cursor: text; min-height: 1px;}.CodeMirror pre {-moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0; border-width: 0; background: transparent; font-family: inherit; font-size: inherit; margin: 0; white-space: pre; word-wrap: normal; line-height: inherit; color: inherit; z-index: 2; position: relative; overflow: visible; -webkit-tap-highlight-color: transparent; -webkit-font-variant-ligatures: contextual; font-variant-ligatures: contextual;}.CodeMirror-wrap pre {word-wrap: break-word; white-space: pre-wrap; word-break: normal;}.CodeMirror-linebackground {position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: 0;}.CodeMirror-linewidget {position: relative; z-index: 2; overflow: auto;}.CodeMirror-widget {}.CodeMirror-rtl pre { direction: rtl; }.CodeMirror-code {outline: none;}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber {-moz-box-sizing: content-box; box-sizing: content-box;}.CodeMirror-measure {position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden;}.CodeMirror-cursor {position: absolute; pointer-events: none;}.CodeMirror-measure pre { position: static; }div.CodeMirror-cursors {visibility: hidden; position: relative; z-index: 3;}div.CodeMirror-dragcursors {visibility: visible;}.CodeMirror-focused div.CodeMirror-cursors {visibility: visible;}.CodeMirror-selected { background: #d9d9d9; }.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }.CodeMirror-crosshair { cursor: crosshair; }.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }.cm-searching {background: #ffa; background: rgba(255, 255, 0, .4);}.cm-force-border { padding-right: .1px; }@media print {  .CodeMirror div.CodeMirror-cursors {visibility: hidden;}}.cm-tab-wrap-hack:after { content: ""; }span.CodeMirror-selectedtext { background: none; }.CodeMirror-activeline-background, .CodeMirror-selected {transition: visibility 0ms 100ms;}.CodeMirror-blur .CodeMirror-activeline-background, .CodeMirror-blur .CodeMirror-selected {visibility:hidden;}.CodeMirror-blur .CodeMirror-matchingbracket {color:inherit !important;outline:none !important;text-decoration:none !important;}.CodeMirror-sizer {min-height:auto !important;}</style></head>

<body class="wiz-editor-body"  spellcheck="false" style="opacity: 1;"><div><b style="color: rgb(68, 68, 68); font-size: 0.75rem; line-height: 1.7;"><span data-wiz-span="data-wiz-span" style="font-size: 1rem;">测试环境：<b style="font-size: 0.75rem;"><span data-wiz-span="data-wiz-span" style="font-size:1rem;">JVM配置为</span></b>2核1G，JAVA8，固定设置堆大小 1G</span></b></div><div  data-mode="Shell" data-theme="default" id="wiz_cm_1545334225726_391" class="wiz-code-container"><textarea style="display: none;">java version "1.8.0_192"
Java(TM) SE Runtime Environment (build 1.8.0_192-b12)
Java HotSpot(TM) 64-Bit Server VM (build 25.192-b12, mixed mode)

# 默认大小通常太小，尽量授予尽可能多的内存，增加CPU的时候，内存也应该增加
java -Xmx1024m  -jar performance-1.0.0.jar</textarea><wiz_code_mirror><div class="CodeMirror cm-s-default CodeMirror-wrap" data-id="wiz_cm_1545332260440_4124"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 19.9858px; left: 33.6364px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 150px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>6</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 3.63636px; top: 0px; height: 23.6365px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">java version <span class="cm-string">"1.8.0_192"</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">Java(TM) SE Runtime Environment (build <span class="cm-number">1</span>.8.0_192-b12)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">3</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">Java HotSpot(TM) <span class="cm-number">64</span><span class="cm-attribute">-Bit</span> Server VM (build <span class="cm-number">25</span>.192-b12, mixed mode)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">4</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text=""></span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">5</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 默认大小通常太小，尽量授予尽可能多的内存，增加CPU的时候，内存也应该增加</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">6</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">java <span class="cm-attribute">-Xmx1024m</span> &nbsp;<span class="cm-attribute">-jar</span> performance-1.0.0.jar</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 150px;"></div><div class="CodeMirror-gutters" style="height: 180px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><div><b style="font-size: 0.75rem; line-height: 20.4px; color: rgb(68, 68, 68);"><span data-wiz-span="data-wiz-span" style="font-size: 0.917rem;">1、 示例代码 -1</span></b><br></div><div style="font-size:0.917rem;line-height:20.4px"></div><div  data-mode="Java" data-theme="default" id="wiz_cm_1545334225723_6067" class="wiz-code-container"><textarea style="display: none;">// 启动程序，模拟用户请求
// 每100毫秒钟创建150线程，每个线程创建一个512kb的对象，最多一秒同时存在1500线程，占用内存750m（75%），查看GC的情况
@SpringBootApplication
public class PerformanceApplication {
    public static void main(String[] args) {
        SpringApplication.run(PerformanceApplication.class, args);
        Executors.newScheduledThreadPool(1).scheduleAtFixedRate(() -&gt; {
            new Thread(() -&gt; {
                for (int i = 0; i &lt; 150; i++) {
                    try {
                        //  不干活，专门512kb的小对象
                        byte[] temp = new byte[1024 * 512];
                        Thread.sleep(new Random().nextInt(1000)); // 随机睡眠1秒以内
                    } catch (InterruptedException e) {
                        e.printStackTrace();
                    }
                }
            }).start();
        }, 100, 100, TimeUnit.MILLISECONDS);
    }
}

// 打包 mvn clean package
// 服务器上运行 performance-1.0.0.jar
// 对象存活在1秒左右的场景，远远超过平时接口的响应时间要求，场景应该为吞吐量优先</textarea><wiz_code_mirror><div class="CodeMirror cm-s-default CodeMirror-wrap" data-id="wiz_cm_1545332260397_3319"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 19.9858px; left: 33.6364px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 599px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>25</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 3.63636px; top: 0px; height: 23.6365px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 启动程序，模拟用户请求</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 每100毫秒钟创建150线程，每个线程创建一个512kb的对象，最多一秒同时存在1500线程，占用内存750m（75%），查看GC的情况</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">3</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@SpringBootApplication</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">4</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">PerformanceApplication</span> {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">5</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-type">void</span> <span class="cm-variable">main</span>(<span class="cm-type">String</span>[] <span class="cm-variable">args</span>) {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">6</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">SpringApplication</span>.<span class="cm-variable">run</span>(<span class="cm-variable">PerformanceApplication</span>.<span class="cm-keyword">class</span>, <span class="cm-variable">args</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">7</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Executors</span>.<span class="cm-variable">newScheduledThreadPool</span>(<span class="cm-number">1</span>).<span class="cm-variable">scheduleAtFixedRate</span>(() <span class="cm-operator">-&gt;</span> {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">8</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">new</span> <span class="cm-variable">Thread</span>(() <span class="cm-operator">-&gt;</span> {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">9</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span class="cm-type">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">i</span> <span class="cm-operator">&lt;</span> <span class="cm-number">150</span>; <span class="cm-variable">i</span><span class="cm-operator">++</span>) {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">10</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">try</span> {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">11</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//  不干活，专门512kb的小对象</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">12</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-type">byte</span>[] <span class="cm-variable">temp</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-type">byte</span>[<span class="cm-number">1024</span> <span class="cm-operator">*</span> <span class="cm-number">512</span>];</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">13</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Thread</span>.<span class="cm-variable">sleep</span>(<span class="cm-keyword">new</span> <span class="cm-variable">Random</span>().<span class="cm-variable">nextInt</span>(<span class="cm-number">1000</span>)); <span class="cm-comment">// 随机睡眠1秒以内</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">14</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  } <span class="cm-keyword">catch</span> (<span class="cm-variable">InterruptedException</span> <span class="cm-variable">e</span>) {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">15</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">e</span>.<span class="cm-variable">printStackTrace</span>();</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">16</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">17</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">18</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }).<span class="cm-variable">start</span>();</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">19</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }, <span class="cm-number">100</span>, <span class="cm-number">100</span>, <span class="cm-variable">TimeUnit</span>.<span class="cm-variable">MILLISECONDS</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">20</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">21</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">22</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text=""></span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">23</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 打包 mvn clean package</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">24</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 服务器上运行 performance-1.0.0.jar</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">25</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 对象存活在1秒左右的场景，远远超过平时接口的响应时间要求，场景应该为吞吐量优先</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 599px;"></div><div class="CodeMirror-gutters" style="height: 629px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><div style="color:rgb(68, 68, 68);text-decoration:none;font-size:0.75rem"></div><div>1.1<span style="line-height: 1.7;">&nbsp;GC分析，主要查看GC导致的stop-the-world，这将导致我们的程序延时增大。</span></div><div  data-mode="Shell" data-theme="default" id="wiz_cm_1545334225720_7503" class="wiz-code-container"><textarea style="display: none;"># 查找到performance-1.0.0.jar的进程号
jcmd | grep "performance-1.0.0.jar" | awk '{print $1}'
# jmap 打印heap的概要信息，GC使用的算法，heap的配置及wise heap的使用情况
jmap -heap $(jcmd | grep "performance-1.0.0.jar" | awk '{print $1}') 

# 收集GC日志（日志离线分析，主要用于检查故障看出是不是因为GC导致的程序卡顿）
# 不建议直接输出 java -Xmx1024m -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -jar performance-1.0.0.jar
java -Xmx1024m -Xloggc:/netease/gc1.log -jar performance-1.0.0.jar
# 分析GC日志（）
GCViewer工具，辅助分析GC日志文件 https://github.com/chewiebug/GCViewer

# jstat 动态监控GC统计信息，间隔1000毫秒统计一次，每10行数据后输出列标题
jstat -gc -h10 $(jcmd | grep "performance-1.0.0.jar" | awk '{print $1}') 1000
</textarea><wiz_code_mirror><div class="CodeMirror cm-s-default CodeMirror-wrap" data-id="wiz_cm_1545332260367_3240"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 19.9858px; left: 33.6364px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 339px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre>x</pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors" style=""><div class="CodeMirror-cursor" style="left: 3.63636px; top: 0px; height: 23.6364px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 查找到performance-1.0.0.jar的进程号</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">jcmd | <span class="cm-builtin">grep</span> <span class="cm-string">"performance-1.0.0.jar"</span> | <span class="cm-builtin">awk</span> <span class="cm-string">'{print $1}'</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">3</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># jmap 打印heap的概要信息，GC使用的算法，heap的配置及wise heap的使用情况</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">4</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">jmap <span class="cm-attribute">-heap</span> <span class="cm-quote">$(jcmd | grep "performance-1.0.0.jar" | awk '{print </span><span class="cm-def">$1</span><span class="cm-quote">}')</span> </span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">5</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text=""></span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">6</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 收集GC日志（日志离线分析，主要用于检查故障看出是不是因为GC导致的程序卡顿）</span></span></pre></div><div style="position: relative;" class=""><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">7</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 不建议直接输出 java -Xmx1024m -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -jar performance-1.0.0.jar</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">8</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">java <span class="cm-attribute">-Xmx1024m</span> <span class="cm-attribute">-Xloggc</span>:/netease/gc1.log <span class="cm-attribute">-jar</span> performance-1.0.0.jar</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">9</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 分析GC日志（）</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">10</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">GCViewer工具，辅助分析GC日志文件 https://github.com/chewiebug/GCViewer</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">11</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text=""></span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">12</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># jstat 动态监控GC统计信息，间隔1000毫秒统计一次，每10行数据后输出列标题</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">13</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">jstat <span class="cm-attribute">-gc</span> <span class="cm-attribute">-h10</span> <span class="cm-quote">$(jcmd | grep "performance-1.0.0.jar" | awk '{print </span><span class="cm-def">$1</span><span class="cm-quote">}')</span> <span class="cm-number">1000</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">14</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text=""></span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 339px;"></div><div class="CodeMirror-gutters" style="height: 369px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><div>1.2 GC调优</div><div></div><div  data-mode="Shell" data-theme="default" id="wiz_cm_1545334225714_5919" class="wiz-code-container"><textarea style="display: none;"># 通过命令查看参数：java -XX:+PrintFlagsFinal –version | grep 参数关键字
# Parallel GC  服务器默认  java -Xmx1024m -Xloggc:/netease/gc1.log -jar performance-1.0.0.jar
UseAdaptiveSizePolicy自适应默认开启，所以Eden区会自动变化大小
 S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   
29184.0 29184.0  0.0    0.0   290816.0 275028.2  214528.0   90453.2   35068.0 33496.5 4656.0 4334.9     15    0.285   7      0.549    0.834
29184.0 37888.0 28704.9  0.0   273408.0 195849.2  214528.0   136022.6  35068.0 33497.2 4656.0 4334.9     16    0.306   7      0.549    0.856
37888.0 37888.0  0.0    0.0   273408.0 141381.4  230912.0   89954.2   35068.0 33497.7 4656.0 4334.9     17    0.341   8      0.624    0.966
37888.0 49152.0 37409.1  0.0   250880.0 98232.2   230912.0   127331.4  35068.0 33498.4 4656.0 4334.9     18    0.363   8      0.624    0.987
49152.0 49152.0  0.0   48673.5 250880.0 82729.6   230912.0   152932.2  35068.0 33498.8 4656.0 4334.9     19    0.385   8      0.624    1.009
49152.0 63488.0  0.0    0.0   222208.0 70943.1   234496.0   90654.2   35068.0 33505.3 4656.0 4334.9     20    0.409   9      0.697    1.106
63488.0 63488.0  0.0   63009.9 222208.0 104636.8  234496.0   100894.5  35068.0 33508.4 4656.0 4334.9     21    0.431   9      0.697    1.128
63488.0 81920.0 63009.9  0.0   185344.0 139024.0  234496.0   111646.8  35068.0 33512.1 4656.0 4334.9     22    0.452   9      0.697    1.149
91648.0 100864.0 74786.3  0.0   147456.0 33980.1   234496.0   111646.8  35068.0 33528.3 4656.0 4334.9     24    0.495   9      0.697   1.192
107520.0 112640.0 74274.3  0.0   123904.0 30746.2   234496.0   111646.8  35068.0 33528.3 4656.0 4334.9     26    0.539   9      0.697  1.236
默认情况，实时监控结果：10秒内11次YGC，2次FullGC，总耗时0.4秒

1、 调大-XX:ParallelGCThreads=4  java -Xmx1024m -Xloggc:/netease/gc2.log -XX:ParallelGCThreads=4  -jar performance-1.0.0.jar
 S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   
10752.0 9216.0  0.0    0.0   264192.0 195460.3  105472.0   58165.2   35120.0 33480.3 4656.0 4333.8     13    0.153   3      0.219    0.373
10752.0 12288.0  0.0    0.0   324608.0 59139.9   135168.0   69954.5   35120.0 33483.8 4656.0 4334.9     14    0.180   4      0.277    0.458
10752.0 12288.0  0.0    0.0   324608.0 190623.5  135168.0   69954.5   35120.0 33483.8 4656.0 4334.9     14    0.180   4      0.277    0.458
10752.0 12288.0  0.0    0.0   324608.0 317022.0  135168.0   69954.5   35120.0 33483.8 4656.0 4334.9     14    0.180   4      0.277    0.458
12288.0 12288.0  0.0    0.0   324608.0 156095.2  166912.0   82766.1   35120.0 33486.7 4656.0 4334.9     15    0.199   5      0.325    0.524
12288.0 12288.0  0.0    0.0   324608.0 311437.3  166912.0   82766.1   35120.0 33486.7 4656.0 4334.9     15    0.199   5      0.325    0.524
12288.0 15360.0  0.0    0.0   318464.0 175117.9  195072.0   90455.3   35120.0 33487.1 4656.0 4334.9     16    0.217   6      0.380    0.598
15360.0 15360.0  0.0    0.0   318464.0 37004.8   212480.0   90463.3   35120.0 33487.1 4656.0 4334.9     17    0.231   7      0.430    0.661
15360.0 15360.0  0.0    0.0   318464.0 225927.9  212480.0   90463.3   35120.0 33487.1 4656.0 4334.9     17    0.231   7      0.430    0.661
15360.0 19456.0  0.0    0.0   310272.0 103539.3  230400.0   90983.0   35120.0 33487.8 4656.0 4334.9     18    0.243   8      0.484    0.727
实时监控结果：10秒内5次GC，总耗时0.35。 如果有多线程，一定要调大参数

2、 降低耗时，设置-XX:MaxGCPauseMills=10   java -Xmx1024m -Xloggc:/netease/gc3.log -XX:MaxGCPauseMillis=10  -jar performance-1.0.0.jar
 S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   
12800.0 18944.0  0.0    0.0   121856.0 15777.8   176640.0   86351.4   35120.0 33512.4 4656.0 4333.5     21    0.217  11      0.523    0.740
12800.0 22016.0  0.0    0.0   121856.0 54705.3   185856.0   88403.0   35120.0 33513.2 4656.0 4333.5     22    0.230  12      0.568    0.798
25088.0 22016.0  0.0    0.0   121856.0 91971.1   188416.0   88918.6   35120.0 33513.2 4656.0 4333.5     23    0.243  13      0.613    0.856
33280.0 29184.0  0.0    0.0   117760.0 31698.5   183296.0   88412.8   35120.0 33513.2 4656.0 4333.5     25    0.268  15      0.707    0.975
33280.0 38912.0  0.0    0.0   112128.0 91608.5   179200.0   88928.0   35120.0 33513.2 4656.0 4333.5     26    0.280  16      0.754    1.035
45056.0 52224.0  0.0    0.0   104960.0 64733.6   174080.0   88420.9   35120.0 33513.7 4656.0 4333.5     28    0.305  18      0.844    1.149
60416.0 70144.0  0.0    0.0   95232.0  51840.1   173568.0   89100.1   35120.0 33514.1 4656.0 4333.5     30    0.331  19      0.891    1.222
74752.0 86016.0 71714.2  0.0   83968.0  79793.1   173568.0   89100.1   35120.0 33514.1 4656.0 4333.5     32    0.355  19      0.891    1.245
108032.0 102400.0  0.0   72770.2 76800.0  62256.3   173568.0   89100.1   35120.0 33514.8 4656.0 4333.5     35    0.392  19    0.891    1.283
116224.0 116224.0  0.0   73282.2 71680.0   3641.2   173568.0   89108.1   35120.0 33518.8 4656.0 4333.5     39    0.441  19    0.891    1.331
实时监控结果：10秒内18次YGC，8次FGC，GC次数变多，总的时间反倒变长。 代表单次GC时间加速，会换来更多的GC次数，这种情况下不合适。

# CMS
3、 改用CMS回收器  java -Xmx1024m -Xloggc:/netease/gc4.log -XX:+UseConcMarkSweepGC  -jar performance-1.0.0.jar
 S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   
2048.0 2048.0 1540.4  0.0   16384.0   3091.6   166784.0   144616.6  35144.0 33474.4 4680.0 4334.1     84    0.415  39      0.235    0.651
2048.0 2048.0 1540.4  0.0   16384.0    0.0     195804.0   166637.9  35144.0 33477.0 4680.0 4334.1     92    0.450  44      0.271    0.721
2048.0 2048.0 1538.4  0.0   16384.0   5661.8   195804.0   125169.0  35144.0 33477.0 4680.0 4334.1    100    0.480  49      0.298    0.778
2048.0 2048.0 1538.4  0.0   16384.0   5153.7   217156.0   187639.7  35144.0 33477.4 4680.0 4334.1    110    0.520  53      0.323    0.843
2048.0 2048.0  0.0   1540.4 16384.0    0.0     241052.0   207613.3  35144.0 33477.4 4680.0 4334.1    121    0.564  57      0.347    0.911
2048.0 2048.0  0.0   1540.4 16384.0   8773.2   241052.0   185600.7  35144.0 33477.4 4680.0 4334.1    131    0.603  61      0.371    0.974
2048.0 2048.0  0.0   1538.4 16384.0    0.0     242600.0   160004.8  35144.0 33477.4 4680.0 4334.1    143    0.649  65      0.396    1.045
2048.0 2048.0  0.0   1540.4 16384.0   4648.6   381032.0   228619.2  35144.0 33478.1 4680.0 4334.1    155    0.709  66      0.409    1.118
2048.0 2048.0 1566.2  0.0   16384.0   5402.5   381548.0   374564.8  35400.0 33721.3 4680.0 4364.3    168    0.782  67      0.410    1.192
实时监控结果：10秒内85次YGC，28次FGC，总耗时0.54。 cms这种高频回收并不是适合这个场景。
4、 增加线程 java -Xmx1024m -Xloggc:/netease/gc4.log -XX:+UseConcMarkSweepGC  -XX:ConcGCThreads=3 -jar performance-1.0.0.jar
 S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   
2048.0 2048.0  0.0   1538.8 16384.0   7246.8   156612.0   80654.6   35196.0 33516.0 4732.0 4333.0     73    0.364  38      0.225    0.589
2048.0 2048.0 1538.4  0.0   16384.0   5170.8   163448.0   84756.2   35196.0 33516.3 4732.0 4333.0     80    0.393  42      0.250    0.643
2048.0 2048.0 1540.4  0.0   16384.0    0.0     177112.0   146202.8  35196.0 33517.5 4732.0 4333.0     88    0.423  46      0.275    0.698
2048.0 2048.0 1540.8  0.0   16384.0   8246.7   203568.0   125726.2  35196.0 33519.0 4732.0 4333.0     96    0.455  50      0.299    0.754
2048.0 2048.0 1540.4  0.0   16384.0    0.0     213816.0   158500.2  35196.0 33519.0 4732.0 4333.0    106    0.497  55      0.325    0.822
2048.0 2048.0 1538.4  0.0   16384.0    0.0     217236.0   157992.8  35196.0 33519.3 4732.0 4333.0    116    0.536  59      0.349    0.886
2048.0 2048.0 1540.8  0.0   16384.0    0.0     259916.0   167213.6  35196.0 33519.3 4732.0 4333.0    126    0.577  62      0.373    0.950
2048.0 2048.0  0.0   1538.4 16384.0    0.0     259916.0   211763.6  35196.0 33519.3 4732.0 4333.0    137    0.617  65      0.387    1.004
2048.0 2048.0  0.0   1536.0 16384.0   3608.3   349532.0   256826.1  35196.0 33519.3 4732.0 4333.0    149    0.682  67      0.399    1.081
2048.0 2048.0  0.0   1540.4 16384.0   3087.0   349532.0   250174.0  35196.0 33520.5 4732.0 4333.0    161    0.726  69      0.412    1.139
实时监控结果：10秒内88次YGC，31次FGC，总耗时0.55，差不多的情况。
# G1 建议大堆使用
5、 改用G1 java -Xmx1024m -Xloggc:/netease/gc10.log  -XX:+UseG1GC -jar performance-1.0.0.jar
S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   
 0.0    0.0    0.0    0.0   55296.0   4096.0   993280.0   244610.8  35200.0 33464.4 4736.0 4333.5    168    1.229   0      0.000    1.229
 0.0    0.0    0.0    0.0   55296.0   6144.0   993280.0   411220.0  35200.0 33466.3 4736.0 4333.5    177    1.414   0      0.000    1.414
 0.0    0.0    0.0    0.0   660480.0 17408.0   388096.0   248910.9  35200.0 33466.3 4736.0 4333.5    187    1.645   0      0.000    1.645
 0.0    0.0    0.0    0.0   613376.0 39936.0   435200.0   435196.7  35200.0 33466.3 4736.0 4333.5    197    1.863   0      0.000    1.863
 0.0    0.0    0.0    0.0   55296.0   6144.0   993280.0   502275.2  35200.0 33466.3 4736.0 4333.5    206    2.088   0      0.000    2.088
 0.0    0.0    0.0    0.0   55296.0   6144.0   993280.0   497159.3  35200.0 33466.3 4736.0 4333.5    216    2.320   0      0.000    2.320
 0.0    0.0    0.0    0.0   493568.0 41984.0   555008.0   553992.8  35200.0 33466.3 4736.0 4333.5    227    2.556   0      0.000    2.556
 0.0    0.0    0.0    0.0   660480.0  1024.0   388096.0   205221.1  35200.0 33466.3 4736.0 4333.5    237    2.822   0      0.000    2.822
 0.0    0.0    0.0    0.0   55296.0   6144.0   993280.0   464105.0  35200.0 33466.7 4736.0 4333.5    247    3.056   0      0.000    3.056
 0.0    0.0    0.0    0.0   570368.0 38912.0   478208.0   477630.5  35200.0 33469.3 4736.0 4333.5    258    3.322   0      0.000    3.322
实时监控结果：不行...
6、增加分区大小 java -Xmx1024m -Xloggc:/netease/gc11.log  -XX:+UseG1GC -XX:G1HeapRegionSize=64m -jar performance-1.0.0.jar
 S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   
 0.0   32768.0  0.0   32768.0 65536.0    0.0     360448.0   248859.1  35196.0 33493.9 4732.0 4333.3    123    1.723   0      0.000    1.723
 0.0   32768.0  0.0   32768.0 163840.0 65536.0   262144.0   150835.5  35196.0 33493.9 4732.0 4333.3    127    1.784   0      0.000    1.784
 0.0   32768.0  0.0   32768.0 65536.0    0.0     360448.0   194563.3  35196.0 33493.9 4732.0 4333.3    132    1.834   0      0.000    1.834
 0.0   32768.0  0.0   32768.0 131072.0   0.0     294912.0   192001.0  35196.0 33493.9 4732.0 4333.3    136    1.880   0      0.000    1.880
 0.0   32768.0  0.0   32768.0 196608.0   0.0     229376.0   111728.2  35196.0 33493.9 4732.0 4333.3    142    1.943   0      0.000    1.943
 0.0   32768.0  0.0   32768.0 131072.0 65536.0   294912.0   180224.5  35196.0 33493.9 4732.0 4333.3    144    1.972   0      0.000    1.972
 0.0   32768.0  0.0   32768.0 163840.0 98304.0   262144.0   126091.5  35196.0 33493.9 4732.0 4333.3    150    2.036   0      0.000    2.036
 0.0   32768.0  0.0   32768.0 98304.0  32768.0   327680.0   201220.0  35196.0 33493.9 4732.0 4333.3    154    2.081   0      0.000    2.081
 0.0   32768.0  0.0   32768.0 163840.0 65536.0   262144.0   144384.5  35196.0 33493.9 4732.0 4333.3    159    2.132   0      0.000    2.132
 0.0   32768.0  0.0   32768.0 196608.0   0.0     229376.0   107380.4  35196.0 33493.9 4732.0 4333.3    166    2.199   0      0.000    2.199</textarea><wiz_code_mirror><div class="CodeMirror cm-s-default CodeMirror-wrap" data-id="wiz_cm_1545332260214_1350"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 19.9858px; left: 33.6364px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="false"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 2277px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre>x</pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 3.63636px; top: 0px; height: 23.6362px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 通过命令查看参数：java -XX:+PrintFlagsFinal –version | grep 参数关键字</span></span></pre></div><div style="position: relative;" class=""><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># Parallel GC  服务器默认  java -Xmx1024m -Xloggc:/netease/gc1.log -jar performance-1.0.0.jar</span></span></pre></div><div style="position: relative;" class=""><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">3</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">UseAdaptiveSizePolicy自适应默认开启，所以Eden区会自动变化大小</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">4</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> S0C &nbsp;  S1C &nbsp;  S0U &nbsp;  S1U &nbsp; &nbsp;  EC &nbsp; &nbsp; &nbsp; EU &nbsp; &nbsp; &nbsp;  OC &nbsp; &nbsp; &nbsp; &nbsp; OU &nbsp; &nbsp; &nbsp; MC &nbsp; &nbsp; MU &nbsp;  CCSC &nbsp; CCSU &nbsp; YGC &nbsp; &nbsp; YGCT &nbsp;  FGC &nbsp;  FGCT &nbsp; &nbsp; GCT &nbsp; </span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">5</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">29184</span>.0 <span class="cm-number">29184</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">290816</span>.0 <span class="cm-number">275028</span>.2 &nbsp;<span class="cm-number">214528</span>.0 &nbsp; <span class="cm-number">90453</span>.2 &nbsp; <span class="cm-number">35068</span>.0 <span class="cm-number">33496</span>.5 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.9 &nbsp; &nbsp; <span class="cm-number">15</span> &nbsp; &nbsp;<span class="cm-number">0</span>.285 &nbsp; <span class="cm-number">7</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.549 &nbsp; &nbsp;<span class="cm-number">0</span>.834</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">6</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">29184</span>.0 <span class="cm-number">37888</span>.0 <span class="cm-number">28704</span>.9 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">273408</span>.0 <span class="cm-number">195849</span>.2 &nbsp;<span class="cm-number">214528</span>.0 &nbsp; <span class="cm-number">136022</span>.6 &nbsp;<span class="cm-number">35068</span>.0 <span class="cm-number">33497</span>.2 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.9 &nbsp; &nbsp; <span class="cm-number">16</span> &nbsp; &nbsp;<span class="cm-number">0</span>.306 &nbsp; <span class="cm-number">7</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.549 &nbsp; &nbsp;<span class="cm-number">0</span>.856</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">7</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">37888</span>.0 <span class="cm-number">37888</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">273408</span>.0 <span class="cm-number">141381</span>.4 &nbsp;<span class="cm-number">230912</span>.0 &nbsp; <span class="cm-number">89954</span>.2 &nbsp; <span class="cm-number">35068</span>.0 <span class="cm-number">33497</span>.7 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.9 &nbsp; &nbsp; <span class="cm-number">17</span> &nbsp; &nbsp;<span class="cm-number">0</span>.341 &nbsp; <span class="cm-number">8</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.624 &nbsp; &nbsp;<span class="cm-number">0</span>.966</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">8</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">37888</span>.0 <span class="cm-number">49152</span>.0 <span class="cm-number">37409</span>.1 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">250880</span>.0 <span class="cm-number">98232</span>.2 &nbsp; <span class="cm-number">230912</span>.0 &nbsp; <span class="cm-number">127331</span>.4 &nbsp;<span class="cm-number">35068</span>.0 <span class="cm-number">33498</span>.4 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.9 &nbsp; &nbsp; <span class="cm-number">18</span> &nbsp; &nbsp;<span class="cm-number">0</span>.363 &nbsp; <span class="cm-number">8</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.624 &nbsp; &nbsp;<span class="cm-number">0</span>.987</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">9</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">49152</span>.0 <span class="cm-number">49152</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">48673</span>.5 <span class="cm-number">250880</span>.0 <span class="cm-number">82729</span>.6 &nbsp; <span class="cm-number">230912</span>.0 &nbsp; <span class="cm-number">152932</span>.2 &nbsp;<span class="cm-number">35068</span>.0 <span class="cm-number">33498</span>.8 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.9 &nbsp; &nbsp; <span class="cm-number">19</span> &nbsp; &nbsp;<span class="cm-number">0</span>.385 &nbsp; <span class="cm-number">8</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.624 &nbsp; &nbsp;<span class="cm-number">1</span>.009</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">10</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">49152</span>.0 <span class="cm-number">63488</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">222208</span>.0 <span class="cm-number">70943</span>.1 &nbsp; <span class="cm-number">234496</span>.0 &nbsp; <span class="cm-number">90654</span>.2 &nbsp; <span class="cm-number">35068</span>.0 <span class="cm-number">33505</span>.3 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.9 &nbsp; &nbsp; <span class="cm-number">20</span> &nbsp; &nbsp;<span class="cm-number">0</span>.409 &nbsp; <span class="cm-number">9</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.697 &nbsp; &nbsp;<span class="cm-number">1</span>.106</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">11</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">63488</span>.0 <span class="cm-number">63488</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">63009</span>.9 <span class="cm-number">222208</span>.0 <span class="cm-number">104636</span>.8 &nbsp;<span class="cm-number">234496</span>.0 &nbsp; <span class="cm-number">100894</span>.5 &nbsp;<span class="cm-number">35068</span>.0 <span class="cm-number">33508</span>.4 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.9 &nbsp; &nbsp; <span class="cm-number">21</span> &nbsp; &nbsp;<span class="cm-number">0</span>.431 &nbsp; <span class="cm-number">9</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.697 &nbsp; &nbsp;<span class="cm-number">1</span>.128</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">12</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">63488</span>.0 <span class="cm-number">81920</span>.0 <span class="cm-number">63009</span>.9 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">185344</span>.0 <span class="cm-number">139024</span>.0 &nbsp;<span class="cm-number">234496</span>.0 &nbsp; <span class="cm-number">111646</span>.8 &nbsp;<span class="cm-number">35068</span>.0 <span class="cm-number">33512</span>.1 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.9 &nbsp; &nbsp; <span class="cm-number">22</span> &nbsp; &nbsp;<span class="cm-number">0</span>.452 &nbsp; <span class="cm-number">9</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.697 &nbsp; &nbsp;<span class="cm-number">1</span>.149</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">13</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">91648</span>.0 <span class="cm-number">100864</span>.0 <span class="cm-number">74786</span>.3 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">147456</span>.0 <span class="cm-number">33980</span>.1 &nbsp; <span class="cm-number">234496</span>.0 &nbsp; <span class="cm-number">111646</span>.8 &nbsp;<span class="cm-number">35068</span>.0 <span class="cm-number">33528</span>.3 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.9 &nbsp; &nbsp; <span class="cm-number">24</span> &nbsp; &nbsp;<span class="cm-number">0</span>.495 &nbsp; <span class="cm-number">9</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.697 &nbsp; <span class="cm-number">1</span>.192</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">14</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">107520</span>.0 <span class="cm-number">112640</span>.0 <span class="cm-number">74274</span>.3 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">123904</span>.0 <span class="cm-number">30746</span>.2 &nbsp; <span class="cm-number">234496</span>.0 &nbsp; <span class="cm-number">111646</span>.8 &nbsp;<span class="cm-number">35068</span>.0 <span class="cm-number">33528</span>.3 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.9 &nbsp; &nbsp; <span class="cm-number">26</span> &nbsp; &nbsp;<span class="cm-number">0</span>.539 &nbsp; <span class="cm-number">9</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.697 &nbsp;<span class="cm-number">1</span>.236</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">15</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">默认情况，实时监控结果：10秒内11次YGC，2次FullGC，总耗时0.4秒</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">16</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text=""></span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">17</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span>、 调大-XX<span class="cm-def">:ParallelGCThreads</span><span class="cm-operator">=</span><span class="cm-number">4</span>  java <span class="cm-attribute">-Xmx1024m</span> <span class="cm-attribute">-Xloggc</span>:/netease/gc2.log <span class="cm-attribute">-XX</span><span class="cm-def">:ParallelGCThreads</span><span class="cm-operator">=</span><span class="cm-number">4</span> &nbsp;<span class="cm-attribute">-jar</span> performance-1.0.0.jar</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">18</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> S0C &nbsp;  S1C &nbsp;  S0U &nbsp;  S1U &nbsp; &nbsp;  EC &nbsp; &nbsp; &nbsp; EU &nbsp; &nbsp; &nbsp;  OC &nbsp; &nbsp; &nbsp; &nbsp; OU &nbsp; &nbsp; &nbsp; MC &nbsp; &nbsp; MU &nbsp;  CCSC &nbsp; CCSU &nbsp; YGC &nbsp; &nbsp; YGCT &nbsp;  FGC &nbsp;  FGCT &nbsp; &nbsp; GCT &nbsp; </span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">19</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">10752</span>.0 <span class="cm-number">9216</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">264192</span>.0 <span class="cm-number">195460</span>.3 &nbsp;<span class="cm-number">105472</span>.0 &nbsp; <span class="cm-number">58165</span>.2 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33480</span>.3 <span class="cm-number">4656</span>.0 <span class="cm-number">4333</span>.8 &nbsp; &nbsp; <span class="cm-number">13</span> &nbsp; &nbsp;<span class="cm-number">0</span>.153 &nbsp; <span class="cm-number">3</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.219 &nbsp; &nbsp;<span class="cm-number">0</span>.373</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">20</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">10752</span>.0 <span class="cm-number">12288</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">324608</span>.0 <span class="cm-number">59139</span>.9 &nbsp; <span class="cm-number">135168</span>.0 &nbsp; <span class="cm-number">69954</span>.5 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33483</span>.8 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.9 &nbsp; &nbsp; <span class="cm-number">14</span> &nbsp; &nbsp;<span class="cm-number">0</span>.180 &nbsp; <span class="cm-number">4</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.277 &nbsp; &nbsp;<span class="cm-number">0</span>.458</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">21</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">10752</span>.0 <span class="cm-number">12288</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">324608</span>.0 <span class="cm-number">190623</span>.5 &nbsp;<span class="cm-number">135168</span>.0 &nbsp; <span class="cm-number">69954</span>.5 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33483</span>.8 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.9 &nbsp; &nbsp; <span class="cm-number">14</span> &nbsp; &nbsp;<span class="cm-number">0</span>.180 &nbsp; <span class="cm-number">4</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.277 &nbsp; &nbsp;<span class="cm-number">0</span>.458</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">22</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">10752</span>.0 <span class="cm-number">12288</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">324608</span>.0 <span class="cm-number">317022</span>.0 &nbsp;<span class="cm-number">135168</span>.0 &nbsp; <span class="cm-number">69954</span>.5 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33483</span>.8 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.9 &nbsp; &nbsp; <span class="cm-number">14</span> &nbsp; &nbsp;<span class="cm-number">0</span>.180 &nbsp; <span class="cm-number">4</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.277 &nbsp; &nbsp;<span class="cm-number">0</span>.458</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">23</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">12288</span>.0 <span class="cm-number">12288</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">324608</span>.0 <span class="cm-number">156095</span>.2 &nbsp;<span class="cm-number">166912</span>.0 &nbsp; <span class="cm-number">82766</span>.1 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33486</span>.7 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.9 &nbsp; &nbsp; <span class="cm-number">15</span> &nbsp; &nbsp;<span class="cm-number">0</span>.199 &nbsp; <span class="cm-number">5</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.325 &nbsp; &nbsp;<span class="cm-number">0</span>.524</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">24</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">12288</span>.0 <span class="cm-number">12288</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">324608</span>.0 <span class="cm-number">311437</span>.3 &nbsp;<span class="cm-number">166912</span>.0 &nbsp; <span class="cm-number">82766</span>.1 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33486</span>.7 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.9 &nbsp; &nbsp; <span class="cm-number">15</span> &nbsp; &nbsp;<span class="cm-number">0</span>.199 &nbsp; <span class="cm-number">5</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.325 &nbsp; &nbsp;<span class="cm-number">0</span>.524</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">25</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">12288</span>.0 <span class="cm-number">15360</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">318464</span>.0 <span class="cm-number">175117</span>.9 &nbsp;<span class="cm-number">195072</span>.0 &nbsp; <span class="cm-number">90455</span>.3 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33487</span>.1 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.9 &nbsp; &nbsp; <span class="cm-number">16</span> &nbsp; &nbsp;<span class="cm-number">0</span>.217 &nbsp; <span class="cm-number">6</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.380 &nbsp; &nbsp;<span class="cm-number">0</span>.598</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">26</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">15360</span>.0 <span class="cm-number">15360</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">318464</span>.0 <span class="cm-number">37004</span>.8 &nbsp; <span class="cm-number">212480</span>.0 &nbsp; <span class="cm-number">90463</span>.3 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33487</span>.1 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.9 &nbsp; &nbsp; <span class="cm-number">17</span> &nbsp; &nbsp;<span class="cm-number">0</span>.231 &nbsp; <span class="cm-number">7</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.430 &nbsp; &nbsp;<span class="cm-number">0</span>.661</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">27</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">15360</span>.0 <span class="cm-number">15360</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">318464</span>.0 <span class="cm-number">225927</span>.9 &nbsp;<span class="cm-number">212480</span>.0 &nbsp; <span class="cm-number">90463</span>.3 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33487</span>.1 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.9 &nbsp; &nbsp; <span class="cm-number">17</span> &nbsp; &nbsp;<span class="cm-number">0</span>.231 &nbsp; <span class="cm-number">7</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.430 &nbsp; &nbsp;<span class="cm-number">0</span>.661</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">28</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">15360</span>.0 <span class="cm-number">19456</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">310272</span>.0 <span class="cm-number">103539</span>.3 &nbsp;<span class="cm-number">230400</span>.0 &nbsp; <span class="cm-number">90983</span>.0 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33487</span>.8 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.9 &nbsp; &nbsp; <span class="cm-number">18</span> &nbsp; &nbsp;<span class="cm-number">0</span>.243 &nbsp; <span class="cm-number">8</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.484 &nbsp; &nbsp;<span class="cm-number">0</span>.727</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">29</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">实时监控结果：10秒内5次GC，总耗时0.35。 如果有多线程，一定要调大参数</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">30</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text=""></span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">31</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span>、 降低耗时，设置-XX<span class="cm-def">:MaxGCPauseMills</span><span class="cm-operator">=</span><span class="cm-number">10</span> &nbsp; java <span class="cm-attribute">-Xmx1024m</span> <span class="cm-attribute">-Xloggc</span>:/netease/gc3.log <span class="cm-attribute">-XX</span><span class="cm-def">:MaxGCPauseMillis</span><span class="cm-operator">=</span><span class="cm-number">10</span> &nbsp;<span class="cm-attribute">-jar</span> performance-1.0.0.jar</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">32</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> S0C &nbsp;  S1C &nbsp;  S0U &nbsp;  S1U &nbsp; &nbsp;  EC &nbsp; &nbsp; &nbsp; EU &nbsp; &nbsp; &nbsp;  OC &nbsp; &nbsp; &nbsp; &nbsp; OU &nbsp; &nbsp; &nbsp; MC &nbsp; &nbsp; MU &nbsp;  CCSC &nbsp; CCSU &nbsp; YGC &nbsp; &nbsp; YGCT &nbsp;  FGC &nbsp;  FGCT &nbsp; &nbsp; GCT &nbsp; </span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">33</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">12800</span>.0 <span class="cm-number">18944</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">121856</span>.0 <span class="cm-number">15777</span>.8 &nbsp; <span class="cm-number">176640</span>.0 &nbsp; <span class="cm-number">86351</span>.4 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33512</span>.4 <span class="cm-number">4656</span>.0 <span class="cm-number">4333</span>.5 &nbsp; &nbsp; <span class="cm-number">21</span> &nbsp; &nbsp;<span class="cm-number">0</span>.217 &nbsp;<span class="cm-number">11</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.523 &nbsp; &nbsp;<span class="cm-number">0</span>.740</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">34</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">12800</span>.0 <span class="cm-number">22016</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">121856</span>.0 <span class="cm-number">54705</span>.3 &nbsp; <span class="cm-number">185856</span>.0 &nbsp; <span class="cm-number">88403</span>.0 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33513</span>.2 <span class="cm-number">4656</span>.0 <span class="cm-number">4333</span>.5 &nbsp; &nbsp; <span class="cm-number">22</span> &nbsp; &nbsp;<span class="cm-number">0</span>.230 &nbsp;<span class="cm-number">12</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.568 &nbsp; &nbsp;<span class="cm-number">0</span>.798</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">35</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">25088</span>.0 <span class="cm-number">22016</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">121856</span>.0 <span class="cm-number">91971</span>.1 &nbsp; <span class="cm-number">188416</span>.0 &nbsp; <span class="cm-number">88918</span>.6 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33513</span>.2 <span class="cm-number">4656</span>.0 <span class="cm-number">4333</span>.5 &nbsp; &nbsp; <span class="cm-number">23</span> &nbsp; &nbsp;<span class="cm-number">0</span>.243 &nbsp;<span class="cm-number">13</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.613 &nbsp; &nbsp;<span class="cm-number">0</span>.856</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">36</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">33280</span>.0 <span class="cm-number">29184</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">117760</span>.0 <span class="cm-number">31698</span>.5 &nbsp; <span class="cm-number">183296</span>.0 &nbsp; <span class="cm-number">88412</span>.8 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33513</span>.2 <span class="cm-number">4656</span>.0 <span class="cm-number">4333</span>.5 &nbsp; &nbsp; <span class="cm-number">25</span> &nbsp; &nbsp;<span class="cm-number">0</span>.268 &nbsp;<span class="cm-number">15</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.707 &nbsp; &nbsp;<span class="cm-number">0</span>.975</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">37</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">33280</span>.0 <span class="cm-number">38912</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">112128</span>.0 <span class="cm-number">91608</span>.5 &nbsp; <span class="cm-number">179200</span>.0 &nbsp; <span class="cm-number">88928</span>.0 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33513</span>.2 <span class="cm-number">4656</span>.0 <span class="cm-number">4333</span>.5 &nbsp; &nbsp; <span class="cm-number">26</span> &nbsp; &nbsp;<span class="cm-number">0</span>.280 &nbsp;<span class="cm-number">16</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.754 &nbsp; &nbsp;<span class="cm-number">1</span>.035</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">38</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">45056</span>.0 <span class="cm-number">52224</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">104960</span>.0 <span class="cm-number">64733</span>.6 &nbsp; <span class="cm-number">174080</span>.0 &nbsp; <span class="cm-number">88420</span>.9 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33513</span>.7 <span class="cm-number">4656</span>.0 <span class="cm-number">4333</span>.5 &nbsp; &nbsp; <span class="cm-number">28</span> &nbsp; &nbsp;<span class="cm-number">0</span>.305 &nbsp;<span class="cm-number">18</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.844 &nbsp; &nbsp;<span class="cm-number">1</span>.149</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">39</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">60416</span>.0 <span class="cm-number">70144</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">95232</span>.0 &nbsp;<span class="cm-number">51840</span>.1 &nbsp; <span class="cm-number">173568</span>.0 &nbsp; <span class="cm-number">89100</span>.1 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33514</span>.1 <span class="cm-number">4656</span>.0 <span class="cm-number">4333</span>.5 &nbsp; &nbsp; <span class="cm-number">30</span> &nbsp; &nbsp;<span class="cm-number">0</span>.331 &nbsp;<span class="cm-number">19</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.891 &nbsp; &nbsp;<span class="cm-number">1</span>.222</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">40</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">74752</span>.0 <span class="cm-number">86016</span>.0 <span class="cm-number">71714</span>.2 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">83968</span>.0 &nbsp;<span class="cm-number">79793</span>.1 &nbsp; <span class="cm-number">173568</span>.0 &nbsp; <span class="cm-number">89100</span>.1 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33514</span>.1 <span class="cm-number">4656</span>.0 <span class="cm-number">4333</span>.5 &nbsp; &nbsp; <span class="cm-number">32</span> &nbsp; &nbsp;<span class="cm-number">0</span>.355 &nbsp;<span class="cm-number">19</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.891 &nbsp; &nbsp;<span class="cm-number">1</span>.245</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">41</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">108032</span>.0 <span class="cm-number">102400</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">72770</span>.2 <span class="cm-number">76800</span>.0 &nbsp;<span class="cm-number">62256</span>.3 &nbsp; <span class="cm-number">173568</span>.0 &nbsp; <span class="cm-number">89100</span>.1 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33514</span>.8 <span class="cm-number">4656</span>.0 <span class="cm-number">4333</span>.5 &nbsp; &nbsp; <span class="cm-number">35</span> &nbsp; &nbsp;<span class="cm-number">0</span>.392 &nbsp;<span class="cm-number">19</span> &nbsp; &nbsp;<span class="cm-number">0</span>.891 &nbsp; &nbsp;<span class="cm-number">1</span>.283</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">42</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">116224</span>.0 <span class="cm-number">116224</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">73282</span>.2 <span class="cm-number">71680</span>.0 &nbsp; <span class="cm-number">3641</span>.2 &nbsp; <span class="cm-number">173568</span>.0 &nbsp; <span class="cm-number">89108</span>.1 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33518</span>.8 <span class="cm-number">4656</span>.0 <span class="cm-number">4333</span>.5 &nbsp; &nbsp; <span class="cm-number">39</span> &nbsp; &nbsp;<span class="cm-number">0</span>.441 &nbsp;<span class="cm-number">19</span> &nbsp; &nbsp;<span class="cm-number">0</span>.891 &nbsp; &nbsp;<span class="cm-number">1</span>.331</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">43</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">实时监控结果：10秒内18次YGC，8次FGC，GC次数变多，总的时间反倒变长。 代表单次GC时间加速，会换来更多的GC次数，这种情况下不合适。</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">44</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text=""></span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">45</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># CMS</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">46</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span>、 改用CMS回收器  java <span class="cm-attribute">-Xmx1024m</span> <span class="cm-attribute">-Xloggc</span>:/netease/gc4.log <span class="cm-attribute">-XX</span>:<span class="cm-operator">+</span>UseConcMarkSweepGC &nbsp;<span class="cm-attribute">-jar</span> performance-1.0.0.jar</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">47</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> S0C &nbsp;  S1C &nbsp;  S0U &nbsp;  S1U &nbsp; &nbsp;  EC &nbsp; &nbsp; &nbsp; EU &nbsp; &nbsp; &nbsp;  OC &nbsp; &nbsp; &nbsp; &nbsp; OU &nbsp; &nbsp; &nbsp; MC &nbsp; &nbsp; MU &nbsp;  CCSC &nbsp; CCSU &nbsp; YGC &nbsp; &nbsp; YGCT &nbsp;  FGC &nbsp;  FGCT &nbsp; &nbsp; GCT &nbsp; </span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">48</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2048</span>.0 <span class="cm-number">2048</span>.0 <span class="cm-number">1540</span>.4 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">16384</span>.0 &nbsp; <span class="cm-number">3091</span>.6 &nbsp; <span class="cm-number">166784</span>.0 &nbsp; <span class="cm-number">144616</span>.6 &nbsp;<span class="cm-number">35144</span>.0 <span class="cm-number">33474</span>.4 <span class="cm-number">4680</span>.0 <span class="cm-number">4334</span>.1 &nbsp; &nbsp; <span class="cm-number">84</span> &nbsp; &nbsp;<span class="cm-number">0</span>.415 &nbsp;<span class="cm-number">39</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.235 &nbsp; &nbsp;<span class="cm-number">0</span>.651</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">49</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2048</span>.0 <span class="cm-number">2048</span>.0 <span class="cm-number">1540</span>.4 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">16384</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">195804</span>.0 &nbsp; <span class="cm-number">166637</span>.9 &nbsp;<span class="cm-number">35144</span>.0 <span class="cm-number">33477</span>.0 <span class="cm-number">4680</span>.0 <span class="cm-number">4334</span>.1 &nbsp; &nbsp; <span class="cm-number">92</span> &nbsp; &nbsp;<span class="cm-number">0</span>.450 &nbsp;<span class="cm-number">44</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.271 &nbsp; &nbsp;<span class="cm-number">0</span>.721</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">50</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2048</span>.0 <span class="cm-number">2048</span>.0 <span class="cm-number">1538</span>.4 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">16384</span>.0 &nbsp; <span class="cm-number">5661</span>.8 &nbsp; <span class="cm-number">195804</span>.0 &nbsp; <span class="cm-number">125169</span>.0 &nbsp;<span class="cm-number">35144</span>.0 <span class="cm-number">33477</span>.0 <span class="cm-number">4680</span>.0 <span class="cm-number">4334</span>.1 &nbsp; &nbsp;<span class="cm-number">100</span> &nbsp; &nbsp;<span class="cm-number">0</span>.480 &nbsp;<span class="cm-number">49</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.298 &nbsp; &nbsp;<span class="cm-number">0</span>.778</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">51</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2048</span>.0 <span class="cm-number">2048</span>.0 <span class="cm-number">1538</span>.4 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">16384</span>.0 &nbsp; <span class="cm-number">5153</span>.7 &nbsp; <span class="cm-number">217156</span>.0 &nbsp; <span class="cm-number">187639</span>.7 &nbsp;<span class="cm-number">35144</span>.0 <span class="cm-number">33477</span>.4 <span class="cm-number">4680</span>.0 <span class="cm-number">4334</span>.1 &nbsp; &nbsp;<span class="cm-number">110</span> &nbsp; &nbsp;<span class="cm-number">0</span>.520 &nbsp;<span class="cm-number">53</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.323 &nbsp; &nbsp;<span class="cm-number">0</span>.843</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">52</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2048</span>.0 <span class="cm-number">2048</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">1540</span>.4 <span class="cm-number">16384</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">241052</span>.0 &nbsp; <span class="cm-number">207613</span>.3 &nbsp;<span class="cm-number">35144</span>.0 <span class="cm-number">33477</span>.4 <span class="cm-number">4680</span>.0 <span class="cm-number">4334</span>.1 &nbsp; &nbsp;<span class="cm-number">121</span> &nbsp; &nbsp;<span class="cm-number">0</span>.564 &nbsp;<span class="cm-number">57</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.347 &nbsp; &nbsp;<span class="cm-number">0</span>.911</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">53</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2048</span>.0 <span class="cm-number">2048</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">1540</span>.4 <span class="cm-number">16384</span>.0 &nbsp; <span class="cm-number">8773</span>.2 &nbsp; <span class="cm-number">241052</span>.0 &nbsp; <span class="cm-number">185600</span>.7 &nbsp;<span class="cm-number">35144</span>.0 <span class="cm-number">33477</span>.4 <span class="cm-number">4680</span>.0 <span class="cm-number">4334</span>.1 &nbsp; &nbsp;<span class="cm-number">131</span> &nbsp; &nbsp;<span class="cm-number">0</span>.603 &nbsp;<span class="cm-number">61</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.371 &nbsp; &nbsp;<span class="cm-number">0</span>.974</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">54</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2048</span>.0 <span class="cm-number">2048</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">1538</span>.4 <span class="cm-number">16384</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">242600</span>.0 &nbsp; <span class="cm-number">160004</span>.8 &nbsp;<span class="cm-number">35144</span>.0 <span class="cm-number">33477</span>.4 <span class="cm-number">4680</span>.0 <span class="cm-number">4334</span>.1 &nbsp; &nbsp;<span class="cm-number">143</span> &nbsp; &nbsp;<span class="cm-number">0</span>.649 &nbsp;<span class="cm-number">65</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.396 &nbsp; &nbsp;<span class="cm-number">1</span>.045</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">55</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2048</span>.0 <span class="cm-number">2048</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">1540</span>.4 <span class="cm-number">16384</span>.0 &nbsp; <span class="cm-number">4648</span>.6 &nbsp; <span class="cm-number">381032</span>.0 &nbsp; <span class="cm-number">228619</span>.2 &nbsp;<span class="cm-number">35144</span>.0 <span class="cm-number">33478</span>.1 <span class="cm-number">4680</span>.0 <span class="cm-number">4334</span>.1 &nbsp; &nbsp;<span class="cm-number">155</span> &nbsp; &nbsp;<span class="cm-number">0</span>.709 &nbsp;<span class="cm-number">66</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.409 &nbsp; &nbsp;<span class="cm-number">1</span>.118</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">56</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2048</span>.0 <span class="cm-number">2048</span>.0 <span class="cm-number">1566</span>.2 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">16384</span>.0 &nbsp; <span class="cm-number">5402</span>.5 &nbsp; <span class="cm-number">381548</span>.0 &nbsp; <span class="cm-number">374564</span>.8 &nbsp;<span class="cm-number">35400</span>.0 <span class="cm-number">33721</span>.3 <span class="cm-number">4680</span>.0 <span class="cm-number">4364</span>.3 &nbsp; &nbsp;<span class="cm-number">168</span> &nbsp; &nbsp;<span class="cm-number">0</span>.782 &nbsp;<span class="cm-number">67</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.410 &nbsp; &nbsp;<span class="cm-number">1</span>.192</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">57</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">实时监控结果：10秒内85次YGC，28次FGC，总耗时0.54。 cms这种高频回收并不是适合这个场景。</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">58</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span>、 增加线程 java <span class="cm-attribute">-Xmx1024m</span> <span class="cm-attribute">-Xloggc</span>:/netease/gc4.log <span class="cm-attribute">-XX</span>:<span class="cm-operator">+</span>UseConcMarkSweepGC &nbsp;<span class="cm-attribute">-XX</span><span class="cm-def">:ConcGCThreads</span><span class="cm-operator">=</span><span class="cm-number">3</span> <span class="cm-attribute">-jar</span> performance-1.0.0.jar</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">59</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> S0C &nbsp;  S1C &nbsp;  S0U &nbsp;  S1U &nbsp; &nbsp;  EC &nbsp; &nbsp; &nbsp; EU &nbsp; &nbsp; &nbsp;  OC &nbsp; &nbsp; &nbsp; &nbsp; OU &nbsp; &nbsp; &nbsp; MC &nbsp; &nbsp; MU &nbsp;  CCSC &nbsp; CCSU &nbsp; YGC &nbsp; &nbsp; YGCT &nbsp;  FGC &nbsp;  FGCT &nbsp; &nbsp; GCT &nbsp; </span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">60</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2048</span>.0 <span class="cm-number">2048</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">1538</span>.8 <span class="cm-number">16384</span>.0 &nbsp; <span class="cm-number">7246</span>.8 &nbsp; <span class="cm-number">156612</span>.0 &nbsp; <span class="cm-number">80654</span>.6 &nbsp; <span class="cm-number">35196</span>.0 <span class="cm-number">33516</span>.0 <span class="cm-number">4732</span>.0 <span class="cm-number">4333</span>.0 &nbsp; &nbsp; <span class="cm-number">73</span> &nbsp; &nbsp;<span class="cm-number">0</span>.364 &nbsp;<span class="cm-number">38</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.225 &nbsp; &nbsp;<span class="cm-number">0</span>.589</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">61</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2048</span>.0 <span class="cm-number">2048</span>.0 <span class="cm-number">1538</span>.4 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">16384</span>.0 &nbsp; <span class="cm-number">5170</span>.8 &nbsp; <span class="cm-number">163448</span>.0 &nbsp; <span class="cm-number">84756</span>.2 &nbsp; <span class="cm-number">35196</span>.0 <span class="cm-number">33516</span>.3 <span class="cm-number">4732</span>.0 <span class="cm-number">4333</span>.0 &nbsp; &nbsp; <span class="cm-number">80</span> &nbsp; &nbsp;<span class="cm-number">0</span>.393 &nbsp;<span class="cm-number">42</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.250 &nbsp; &nbsp;<span class="cm-number">0</span>.643</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">62</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2048</span>.0 <span class="cm-number">2048</span>.0 <span class="cm-number">1540</span>.4 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">16384</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">177112</span>.0 &nbsp; <span class="cm-number">146202</span>.8 &nbsp;<span class="cm-number">35196</span>.0 <span class="cm-number">33517</span>.5 <span class="cm-number">4732</span>.0 <span class="cm-number">4333</span>.0 &nbsp; &nbsp; <span class="cm-number">88</span> &nbsp; &nbsp;<span class="cm-number">0</span>.423 &nbsp;<span class="cm-number">46</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.275 &nbsp; &nbsp;<span class="cm-number">0</span>.698</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">63</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2048</span>.0 <span class="cm-number">2048</span>.0 <span class="cm-number">1540</span>.8 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">16384</span>.0 &nbsp; <span class="cm-number">8246</span>.7 &nbsp; <span class="cm-number">203568</span>.0 &nbsp; <span class="cm-number">125726</span>.2 &nbsp;<span class="cm-number">35196</span>.0 <span class="cm-number">33519</span>.0 <span class="cm-number">4732</span>.0 <span class="cm-number">4333</span>.0 &nbsp; &nbsp; <span class="cm-number">96</span> &nbsp; &nbsp;<span class="cm-number">0</span>.455 &nbsp;<span class="cm-number">50</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.299 &nbsp; &nbsp;<span class="cm-number">0</span>.754</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">64</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2048</span>.0 <span class="cm-number">2048</span>.0 <span class="cm-number">1540</span>.4 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">16384</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">213816</span>.0 &nbsp; <span class="cm-number">158500</span>.2 &nbsp;<span class="cm-number">35196</span>.0 <span class="cm-number">33519</span>.0 <span class="cm-number">4732</span>.0 <span class="cm-number">4333</span>.0 &nbsp; &nbsp;<span class="cm-number">106</span> &nbsp; &nbsp;<span class="cm-number">0</span>.497 &nbsp;<span class="cm-number">55</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.325 &nbsp; &nbsp;<span class="cm-number">0</span>.822</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">65</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2048</span>.0 <span class="cm-number">2048</span>.0 <span class="cm-number">1538</span>.4 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">16384</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">217236</span>.0 &nbsp; <span class="cm-number">157992</span>.8 &nbsp;<span class="cm-number">35196</span>.0 <span class="cm-number">33519</span>.3 <span class="cm-number">4732</span>.0 <span class="cm-number">4333</span>.0 &nbsp; &nbsp;<span class="cm-number">116</span> &nbsp; &nbsp;<span class="cm-number">0</span>.536 &nbsp;<span class="cm-number">59</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.349 &nbsp; &nbsp;<span class="cm-number">0</span>.886</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">66</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2048</span>.0 <span class="cm-number">2048</span>.0 <span class="cm-number">1540</span>.8 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">16384</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">259916</span>.0 &nbsp; <span class="cm-number">167213</span>.6 &nbsp;<span class="cm-number">35196</span>.0 <span class="cm-number">33519</span>.3 <span class="cm-number">4732</span>.0 <span class="cm-number">4333</span>.0 &nbsp; &nbsp;<span class="cm-number">126</span> &nbsp; &nbsp;<span class="cm-number">0</span>.577 &nbsp;<span class="cm-number">62</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.373 &nbsp; &nbsp;<span class="cm-number">0</span>.950</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">67</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2048</span>.0 <span class="cm-number">2048</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">1538</span>.4 <span class="cm-number">16384</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">259916</span>.0 &nbsp; <span class="cm-number">211763</span>.6 &nbsp;<span class="cm-number">35196</span>.0 <span class="cm-number">33519</span>.3 <span class="cm-number">4732</span>.0 <span class="cm-number">4333</span>.0 &nbsp; &nbsp;<span class="cm-number">137</span> &nbsp; &nbsp;<span class="cm-number">0</span>.617 &nbsp;<span class="cm-number">65</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.387 &nbsp; &nbsp;<span class="cm-number">1</span>.004</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">68</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2048</span>.0 <span class="cm-number">2048</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">1536</span>.0 <span class="cm-number">16384</span>.0 &nbsp; <span class="cm-number">3608</span>.3 &nbsp; <span class="cm-number">349532</span>.0 &nbsp; <span class="cm-number">256826</span>.1 &nbsp;<span class="cm-number">35196</span>.0 <span class="cm-number">33519</span>.3 <span class="cm-number">4732</span>.0 <span class="cm-number">4333</span>.0 &nbsp; &nbsp;<span class="cm-number">149</span> &nbsp; &nbsp;<span class="cm-number">0</span>.682 &nbsp;<span class="cm-number">67</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.399 &nbsp; &nbsp;<span class="cm-number">1</span>.081</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">69</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2048</span>.0 <span class="cm-number">2048</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">1540</span>.4 <span class="cm-number">16384</span>.0 &nbsp; <span class="cm-number">3087</span>.0 &nbsp; <span class="cm-number">349532</span>.0 &nbsp; <span class="cm-number">250174</span>.0 &nbsp;<span class="cm-number">35196</span>.0 <span class="cm-number">33520</span>.5 <span class="cm-number">4732</span>.0 <span class="cm-number">4333</span>.0 &nbsp; &nbsp;<span class="cm-number">161</span> &nbsp; &nbsp;<span class="cm-number">0</span>.726 &nbsp;<span class="cm-number">69</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.412 &nbsp; &nbsp;<span class="cm-number">1</span>.139</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">70</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">实时监控结果：10秒内88次YGC，31次FGC，总耗时0.55，差不多的情况。</span></pre></div><div style="position: relative;" class=""><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">71</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># G1 建议大堆使用</span></span></pre></div><div class="" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">72</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span>、 改用G1 java <span class="cm-attribute">-Xmx1024m</span> <span class="cm-attribute">-Xloggc</span>:/netease/gc10.log &nbsp;<span class="cm-attribute">-XX</span>:<span class="cm-operator">+</span>UseG1GC <span class="cm-attribute">-jar</span> performance-1.0.0.jar</span></pre></div><div class="" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">73</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">S0C &nbsp;  S1C &nbsp;  S0U &nbsp;  S1U &nbsp; &nbsp;  EC &nbsp; &nbsp; &nbsp; EU &nbsp; &nbsp; &nbsp;  OC &nbsp; &nbsp; &nbsp; &nbsp; OU &nbsp; &nbsp; &nbsp; MC &nbsp; &nbsp; MU &nbsp;  CCSC &nbsp; CCSU &nbsp; YGC &nbsp; &nbsp; YGCT &nbsp;  FGC &nbsp;  FGCT &nbsp; &nbsp; GCT &nbsp; </span></pre></div><div class="" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">74</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">55296</span>.0 &nbsp; <span class="cm-number">4096</span>.0 &nbsp; <span class="cm-number">993280</span>.0 &nbsp; <span class="cm-number">244610</span>.8 &nbsp;<span class="cm-number">35200</span>.0 <span class="cm-number">33464</span>.4 <span class="cm-number">4736</span>.0 <span class="cm-number">4333</span>.5 &nbsp; &nbsp;<span class="cm-number">168</span> &nbsp; &nbsp;<span class="cm-number">1</span>.229 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">1</span>.229</span></pre></div><div class="" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">75</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">55296</span>.0 &nbsp; <span class="cm-number">6144</span>.0 &nbsp; <span class="cm-number">993280</span>.0 &nbsp; <span class="cm-number">411220</span>.0 &nbsp;<span class="cm-number">35200</span>.0 <span class="cm-number">33466</span>.3 <span class="cm-number">4736</span>.0 <span class="cm-number">4333</span>.5 &nbsp; &nbsp;<span class="cm-number">177</span> &nbsp; &nbsp;<span class="cm-number">1</span>.414 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">1</span>.414</span></pre></div><div class="" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">76</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">660480</span>.0 <span class="cm-number">17408</span>.0 &nbsp; <span class="cm-number">388096</span>.0 &nbsp; <span class="cm-number">248910</span>.9 &nbsp;<span class="cm-number">35200</span>.0 <span class="cm-number">33466</span>.3 <span class="cm-number">4736</span>.0 <span class="cm-number">4333</span>.5 &nbsp; &nbsp;<span class="cm-number">187</span> &nbsp; &nbsp;<span class="cm-number">1</span>.645 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">1</span>.645</span></pre></div><div class="" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">77</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">613376</span>.0 <span class="cm-number">39936</span>.0 &nbsp; <span class="cm-number">435200</span>.0 &nbsp; <span class="cm-number">435196</span>.7 &nbsp;<span class="cm-number">35200</span>.0 <span class="cm-number">33466</span>.3 <span class="cm-number">4736</span>.0 <span class="cm-number">4333</span>.5 &nbsp; &nbsp;<span class="cm-number">197</span> &nbsp; &nbsp;<span class="cm-number">1</span>.863 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">1</span>.863</span></pre></div><div class="" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">78</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">55296</span>.0 &nbsp; <span class="cm-number">6144</span>.0 &nbsp; <span class="cm-number">993280</span>.0 &nbsp; <span class="cm-number">502275</span>.2 &nbsp;<span class="cm-number">35200</span>.0 <span class="cm-number">33466</span>.3 <span class="cm-number">4736</span>.0 <span class="cm-number">4333</span>.5 &nbsp; &nbsp;<span class="cm-number">206</span> &nbsp; &nbsp;<span class="cm-number">2</span>.088 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">2</span>.088</span></pre></div><div class="" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">79</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">55296</span>.0 &nbsp; <span class="cm-number">6144</span>.0 &nbsp; <span class="cm-number">993280</span>.0 &nbsp; <span class="cm-number">497159</span>.3 &nbsp;<span class="cm-number">35200</span>.0 <span class="cm-number">33466</span>.3 <span class="cm-number">4736</span>.0 <span class="cm-number">4333</span>.5 &nbsp; &nbsp;<span class="cm-number">216</span> &nbsp; &nbsp;<span class="cm-number">2</span>.320 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">2</span>.320</span></pre></div><div class="" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">80</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">493568</span>.0 <span class="cm-number">41984</span>.0 &nbsp; <span class="cm-number">555008</span>.0 &nbsp; <span class="cm-number">553992</span>.8 &nbsp;<span class="cm-number">35200</span>.0 <span class="cm-number">33466</span>.3 <span class="cm-number">4736</span>.0 <span class="cm-number">4333</span>.5 &nbsp; &nbsp;<span class="cm-number">227</span> &nbsp; &nbsp;<span class="cm-number">2</span>.556 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">2</span>.556</span></pre></div><div class="" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">81</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">660480</span>.0 &nbsp;<span class="cm-number">1024</span>.0 &nbsp; <span class="cm-number">388096</span>.0 &nbsp; <span class="cm-number">205221</span>.1 &nbsp;<span class="cm-number">35200</span>.0 <span class="cm-number">33466</span>.3 <span class="cm-number">4736</span>.0 <span class="cm-number">4333</span>.5 &nbsp; &nbsp;<span class="cm-number">237</span> &nbsp; &nbsp;<span class="cm-number">2</span>.822 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">2</span>.822</span></pre></div><div class="" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">82</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">55296</span>.0 &nbsp; <span class="cm-number">6144</span>.0 &nbsp; <span class="cm-number">993280</span>.0 &nbsp; <span class="cm-number">464105</span>.0 &nbsp;<span class="cm-number">35200</span>.0 <span class="cm-number">33466</span>.7 <span class="cm-number">4736</span>.0 <span class="cm-number">4333</span>.5 &nbsp; &nbsp;<span class="cm-number">247</span> &nbsp; &nbsp;<span class="cm-number">3</span>.056 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">3</span>.056</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">83</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">570368</span>.0 <span class="cm-number">38912</span>.0 &nbsp; <span class="cm-number">478208</span>.0 &nbsp; <span class="cm-number">477630</span>.5 &nbsp;<span class="cm-number">35200</span>.0 <span class="cm-number">33469</span>.3 <span class="cm-number">4736</span>.0 <span class="cm-number">4333</span>.5 &nbsp; &nbsp;<span class="cm-number">258</span> &nbsp; &nbsp;<span class="cm-number">3</span>.322 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">3</span>.322</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">84</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">实时监控结果：不行...</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">85</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span>、增加分区大小 java <span class="cm-attribute">-Xmx1024m</span> <span class="cm-attribute">-Xloggc</span>:/netease/gc11.log &nbsp;<span class="cm-attribute">-XX</span>:<span class="cm-operator">+</span>UseG1GC <span class="cm-attribute">-XX</span><span class="cm-def">:G1HeapRegionSize</span><span class="cm-operator">=</span>64m <span class="cm-attribute">-jar</span> performance-1.0.0.jar</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">86</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> S0C &nbsp;  S1C &nbsp;  S0U &nbsp;  S1U &nbsp; &nbsp;  EC &nbsp; &nbsp; &nbsp; EU &nbsp; &nbsp; &nbsp;  OC &nbsp; &nbsp; &nbsp; &nbsp; OU &nbsp; &nbsp; &nbsp; MC &nbsp; &nbsp; MU &nbsp;  CCSC &nbsp; CCSU &nbsp; YGC &nbsp; &nbsp; YGCT &nbsp;  FGC &nbsp;  FGCT &nbsp; &nbsp; GCT &nbsp; </span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">87</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">32768</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">32768</span>.0 <span class="cm-number">65536</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">360448</span>.0 &nbsp; <span class="cm-number">248859</span>.1 &nbsp;<span class="cm-number">35196</span>.0 <span class="cm-number">33493</span>.9 <span class="cm-number">4732</span>.0 <span class="cm-number">4333</span>.3 &nbsp; &nbsp;<span class="cm-number">123</span> &nbsp; &nbsp;<span class="cm-number">1</span>.723 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">1</span>.723</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">88</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">32768</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">32768</span>.0 <span class="cm-number">163840</span>.0 <span class="cm-number">65536</span>.0 &nbsp; <span class="cm-number">262144</span>.0 &nbsp; <span class="cm-number">150835</span>.5 &nbsp;<span class="cm-number">35196</span>.0 <span class="cm-number">33493</span>.9 <span class="cm-number">4732</span>.0 <span class="cm-number">4333</span>.3 &nbsp; &nbsp;<span class="cm-number">127</span> &nbsp; &nbsp;<span class="cm-number">1</span>.784 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">1</span>.784</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">89</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">32768</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">32768</span>.0 <span class="cm-number">65536</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">360448</span>.0 &nbsp; <span class="cm-number">194563</span>.3 &nbsp;<span class="cm-number">35196</span>.0 <span class="cm-number">33493</span>.9 <span class="cm-number">4732</span>.0 <span class="cm-number">4333</span>.3 &nbsp; &nbsp;<span class="cm-number">132</span> &nbsp; &nbsp;<span class="cm-number">1</span>.834 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">1</span>.834</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">90</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">32768</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">32768</span>.0 <span class="cm-number">131072</span>.0 &nbsp; <span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">294912</span>.0 &nbsp; <span class="cm-number">192001</span>.0 &nbsp;<span class="cm-number">35196</span>.0 <span class="cm-number">33493</span>.9 <span class="cm-number">4732</span>.0 <span class="cm-number">4333</span>.3 &nbsp; &nbsp;<span class="cm-number">136</span> &nbsp; &nbsp;<span class="cm-number">1</span>.880 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">1</span>.880</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">91</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">32768</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">32768</span>.0 <span class="cm-number">196608</span>.0 &nbsp; <span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">229376</span>.0 &nbsp; <span class="cm-number">111728</span>.2 &nbsp;<span class="cm-number">35196</span>.0 <span class="cm-number">33493</span>.9 <span class="cm-number">4732</span>.0 <span class="cm-number">4333</span>.3 &nbsp; &nbsp;<span class="cm-number">142</span> &nbsp; &nbsp;<span class="cm-number">1</span>.943 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">1</span>.943</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">92</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">32768</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">32768</span>.0 <span class="cm-number">131072</span>.0 <span class="cm-number">65536</span>.0 &nbsp; <span class="cm-number">294912</span>.0 &nbsp; <span class="cm-number">180224</span>.5 &nbsp;<span class="cm-number">35196</span>.0 <span class="cm-number">33493</span>.9 <span class="cm-number">4732</span>.0 <span class="cm-number">4333</span>.3 &nbsp; &nbsp;<span class="cm-number">144</span> &nbsp; &nbsp;<span class="cm-number">1</span>.972 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">1</span>.972</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">93</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">32768</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">32768</span>.0 <span class="cm-number">163840</span>.0 <span class="cm-number">98304</span>.0 &nbsp; <span class="cm-number">262144</span>.0 &nbsp; <span class="cm-number">126091</span>.5 &nbsp;<span class="cm-number">35196</span>.0 <span class="cm-number">33493</span>.9 <span class="cm-number">4732</span>.0 <span class="cm-number">4333</span>.3 &nbsp; &nbsp;<span class="cm-number">150</span> &nbsp; &nbsp;<span class="cm-number">2</span>.036 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">2</span>.036</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">94</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">32768</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">32768</span>.0 <span class="cm-number">98304</span>.0 &nbsp;<span class="cm-number">32768</span>.0 &nbsp; <span class="cm-number">327680</span>.0 &nbsp; <span class="cm-number">201220</span>.0 &nbsp;<span class="cm-number">35196</span>.0 <span class="cm-number">33493</span>.9 <span class="cm-number">4732</span>.0 <span class="cm-number">4333</span>.3 &nbsp; &nbsp;<span class="cm-number">154</span> &nbsp; &nbsp;<span class="cm-number">2</span>.081 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">2</span>.081</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">95</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">32768</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">32768</span>.0 <span class="cm-number">163840</span>.0 <span class="cm-number">65536</span>.0 &nbsp; <span class="cm-number">262144</span>.0 &nbsp; <span class="cm-number">144384</span>.5 &nbsp;<span class="cm-number">35196</span>.0 <span class="cm-number">33493</span>.9 <span class="cm-number">4732</span>.0 <span class="cm-number">4333</span>.3 &nbsp; &nbsp;<span class="cm-number">159</span> &nbsp; &nbsp;<span class="cm-number">2</span>.132 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">2</span>.132</span></pre></div><div class="" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">96</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">32768</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">32768</span>.0 <span class="cm-number">196608</span>.0 &nbsp; <span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">229376</span>.0 &nbsp; <span class="cm-number">107380</span>.4 &nbsp;<span class="cm-number">35196</span>.0 <span class="cm-number">33493</span>.9 <span class="cm-number">4732</span>.0 <span class="cm-number">4333</span>.3 &nbsp; &nbsp;<span class="cm-number">166</span> &nbsp; &nbsp;<span class="cm-number">2</span>.199 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">2</span>.199</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 2277px;"></div><div class="CodeMirror-gutters" style="height: 2307px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><p><font color="#444444"><span style="font-size: 0.917rem; line-height: 20.4px;"><b>2、 示例代码 -2</b></span></font></p><div style="font-size:0.917rem;line-height:20.4px"></div><div  data-mode="Java" data-theme="default" id="wiz_cm_1545334225710_994" class="wiz-code-container"><textarea style="display: none;">// 启动程序，模拟用户请求
// 每100毫秒钟创建1000线程，每个线程创建一个512kb的对象，最多100毫秒内同时存在1000线程，并发量1000/s，吞吐量6000/s，查看GC的情况
@SpringBootApplication
public class PerformanceApplication {
    public static void main(String[] args) {
        SpringApplication.run(PerformanceApplication.class, args);
        Executors.newScheduledThreadPool(1).scheduleAtFixedRate(() -&gt; {
            new Thread(() -&gt; {
                for (int i = 0; i &lt; 1000; i++) {
                    try {
                        //  不干活，专门512kb的小对象
                        byte[] temp = new byte[1024 * 512];
                        Thread.sleep(new Random().nextInt(100)); // 随机睡眠200毫秒秒以内
                    } catch (InterruptedException e) {
                        e.printStackTrace();
                    }
                }
            }).start();
        }, 100, 100, TimeUnit.MILLISECONDS);
    }
}

// 打包 mvn clean package
// 服务器上运行 performance-1.1.0.jar
// 对象存活时间短，处理量大，属于响应时间优先</textarea><wiz_code_mirror><div class="CodeMirror cm-s-default CodeMirror-wrap" data-id="wiz_cm_1545332260172_9680"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 19.9858px; left: 33.6364px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 599px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre>x</pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 3.63636px; top: 0px; height: 23.6364px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 启动程序，模拟用户请求</span></span></pre></div><div style="position: relative;" class=""><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 每100毫秒钟创建1000线程，每个线程创建一个512kb的对象，最多100毫秒内同时存在1000线程，并发量1000/s，吞吐量6000/s，查看GC的情况</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">3</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@SpringBootApplication</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">4</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">PerformanceApplication</span> {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">5</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-type">void</span> <span class="cm-variable">main</span>(<span class="cm-type">String</span>[] <span class="cm-variable">args</span>) {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">6</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">SpringApplication</span>.<span class="cm-variable">run</span>(<span class="cm-variable">PerformanceApplication</span>.<span class="cm-keyword">class</span>, <span class="cm-variable">args</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">7</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Executors</span>.<span class="cm-variable">newScheduledThreadPool</span>(<span class="cm-number">1</span>).<span class="cm-variable">scheduleAtFixedRate</span>(() <span class="cm-operator">-&gt;</span> {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">8</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">new</span> <span class="cm-variable">Thread</span>(() <span class="cm-operator">-&gt;</span> {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">9</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span class="cm-type">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">i</span> <span class="cm-operator">&lt;</span> <span class="cm-number">1000</span>; <span class="cm-variable">i</span><span class="cm-operator">++</span>) {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">10</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">try</span> {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">11</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//  不干活，专门512kb的小对象</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">12</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-type">byte</span>[] <span class="cm-variable">temp</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-type">byte</span>[<span class="cm-number">1024</span> <span class="cm-operator">*</span> <span class="cm-number">512</span>];</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">13</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Thread</span>.<span class="cm-variable">sleep</span>(<span class="cm-keyword">new</span> <span class="cm-variable">Random</span>().<span class="cm-variable">nextInt</span>(<span class="cm-number">100</span>)); <span class="cm-comment">// 随机睡眠200毫秒秒以内</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">14</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  } <span class="cm-keyword">catch</span> (<span class="cm-variable">InterruptedException</span> <span class="cm-variable">e</span>) {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">15</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">e</span>.<span class="cm-variable">printStackTrace</span>();</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">16</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">17</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">18</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }).<span class="cm-variable">start</span>();</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">19</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }, <span class="cm-number">100</span>, <span class="cm-number">100</span>, <span class="cm-variable">TimeUnit</span>.<span class="cm-variable">MILLISECONDS</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">20</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">21</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">22</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text=""></span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">23</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 打包 mvn clean package</span></span></pre></div><div style="position: relative;" class=""><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">24</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 服务器上运行 performance-1.1.0.jar</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">25</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 对象存活时间短，处理量大，属于响应时间优先</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 599px;"></div><div class="CodeMirror-gutters" style="height: 629px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><p></p><div><b style="color: rgb(68, 68, 68); line-height: 1.7;">2.1 &nbsp;</b><span style="color: rgb(68, 68, 68); font-size: 0.917rem; line-height: 1.7;"><b>GC调优</b></span></div><p></p><div data-mode="Shell" data-theme="default"  id="wiz_cm_1545334225610_5816" class="wiz-code-container"><textarea style="display: none;"># 实时监控：jstat -gc -h10 $(jcmd | grep "performance-1.1.0.jar" | awk '{print $1}') 1000
# Parallel GC  服务器默认  java -Xmx1024m -Xloggc:/netease/gc6.log -jar performance-1.1.0.jar
UseAdaptiveSizePolicy自适应默认开启，所以Eden区会自动变化大小
 S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   
37376.0 37888.0 34817.1  0.0   272384.0 92500.6   125952.0   57532.9   35120.0 33541.2 4656.0 4335.4    286    2.698   7      0.360    3.059
36864.0 36864.0 32289.0  0.0   275456.0   0.0     125952.0   87877.8   35120.0 33541.2 4656.0 4335.4    300    2.812   7      0.360    3.173
35328.0 35840.0 31777.0  0.0   276480.0   0.0     128000.0   61118.4   35120.0 33542.5 4656.0 4335.4    314    2.924   8      0.404    3.328
34816.0 34816.0 31297.0  0.0   279552.0 139082.4  128000.0   102215.6  35120.0 33555.8 4656.0 4335.4    328    3.029   8      0.404    3.433
33792.0 33792.0 30752.9  0.0   281600.0 181082.7  130048.0   68303.1   35120.0 33555.8 4656.0 4335.4    342    3.138   9      0.448    3.586
33280.0 33280.0  0.0   29728.9 282624.0 132715.1  130048.0   122168.7  35120.0 33555.8 4656.0 4335.4    357    3.254   9      0.448    3.701
33280.0 33280.0 25152.8  0.0   282624.0 78765.8   132608.0   98078.6   35120.0 33556.9 4656.0 4335.4    372    3.361  10      0.490    3.851
31232.0 27136.0  0.0   26688.8 285696.0 136307.1  136704.0   76004.6   35120.0 33558.1 4656.0 4335.4    387    3.479  11      0.542    4.021
31744.0 31232.0 26656.8  0.0   286208.0   0.0     138752.0   49337.7   35120.0 33558.1 4656.0 4335.4    402    3.595  12      0.585    4.180
29184.0 29184.0 25152.8  0.0   289792.0   0.0     138752.0   112435.6  35120.0 33558.1 4656.0 4335.4    418    3.716  12      0.585    4.301
默认情况，实时监控结果：10秒内132次YGC，5次FullGC，单词YGC耗时0.008s，总耗时1.242秒

1、 调大-XX:ParallelGCThreads=4  java -Xmx1024m -Xloggc:/netease/gc7.log -XX:ParallelGCThreads=4  -jar performance-1.1.0.jar
 S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   
47616.0 48128.0 43073.3  0.0   252416.0 227997.7  130560.0   122261.9  35120.0 33506.0 4656.0 4334.8    197    2.479   6      0.359    2.838
47104.0 47104.0 43105.3  0.0   254976.0 153173.5  116736.0   67205.9   35120.0 33506.0 4656.0 4334.8    208    2.629   7      0.405    3.034
46080.0 46080.0 44097.3 42529.3 257024.0   0.0     116736.0   86822.5   35120.0 33506.0 4656.0 4334.8   221    2.767   7      0.405    3.172
45568.0 45568.0  0.0   42049.3 258048.0 129250.1  116736.0   104391.0  35120.0 33506.0 4656.0 4334.8    233    2.933   7      0.405    3.338
44544.0 44544.0  0.0   43041.3 260096.0 27359.1   120320.0   68802.0   35120.0 33506.0 4656.0 4334.8    245    3.111   8      0.463    3.574
44544.0 44544.0 39937.2  0.0   260096.0 51577.7   120320.0   97642.8   35120.0 33506.0 4656.0 4334.8    258    3.283   8      0.463    3.746
44544.0 36864.0  0.0   36353.1 261120.0  7862.2   121856.0   68276.2   35120.0 33506.0 4656.0 4334.8    271    3.439   9      0.508    3.947
42496.0 42496.0  0.0   37441.1 263680.0   0.0     121856.0   106301.3  35120.0 33506.0 4656.0 4334.8    285    3.654   9      0.508    4.162
40960.0 41472.0 37889.2  0.0   265216.0   0.0     122880.0   85228.3   35120.0 33506.0 4656.0 4334.8    298    3.834  10      0.551    4.385
41472.0 41472.0 37441.1  0.0   266240.0   0.0     123904.0   57506.1   35120.0 33515.1 4656.0 4334.8    312    4.010  11      0.595    4.605
实时监控结果：10秒内115次GC，5次fullGC，总耗时1.767，单次YGC时间0.014s 多线程，也不管用

2、 降低耗时，设置-XX:MaxGCPauseMills=5   java -Xmx1024m -Xloggc:/netease/gc8.log -XX:MaxGCPauseMillis=5  -jar performance-1.1.0.jar
 S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   
11264.0 12800.0  0.0    0.0   50688.0    0.0     48128.0    28445.5   35200.0 33483.7 4736.0 4334.6     22    0.136   3      0.184    0.320
26624.0 25088.0  0.0   18496.6 44032.0  11192.5   48128.0    32045.6   35200.0 33483.7 4736.0 4334.6     29    0.165   3      0.184    0.349
33792.0 34304.0 21504.7  0.0   39424.0  11034.2   48128.0    36789.8   35200.0 33483.7 4736.0 4334.6     40    0.218   3      0.184    0.401
34304.0 34816.0 27712.8  0.0   37888.0    0.0     64512.0    44331.6   35200.0 33483.9 4736.0 4334.6     54    0.296   5      0.266    0.561
32768.0 26624.0  0.0    0.0   37888.0    0.0     76288.0    49968.7   35200.0 33483.9 4736.0 4334.6     69    0.385   9      0.429    0.815
47616.0 48640.0 39489.2  0.0   28672.0    0.0     84992.0    54068.5   35200.0 33483.9 4736.0 4334.6     92    0.543  11      0.513    1.056
57856.0 57856.0  0.0   19968.6 20480.0   9283.9   100352.0   59194.0   35200.0 33484.9 4736.0 4334.6    123    0.764  15      0.682    1.446
35840.0 36864.0 13312.4  0.0   13824.0    0.0     115200.0   88901.4   35200.0 33487.8 4736.0 4335.7    172    1.076  26      1.113    2.188
24576.0 17408.0  0.0   16896.5  9216.0    0.0     99840.0    82761.6   35200.0 33488.2 4736.0 4335.7    227    1.363  40      1.757    3.121
14848.0 14848.0 9216.3  0.0    6144.0    0.0     95744.0    84799.3   35200.0 33488.5 4736.0 4335.7    310    1.657  55      2.399    4.056
实时监控结果：结果不太好，不合适。

# CMS
3、 改用CMS回收器  java -Xmx1024m -Xloggc:/netease/gc9.log -XX:+UseConcMarkSweepGC  -jar performance-1.1.0.jar
 S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   
2048.0 2048.0 1536.0  0.0   16384.0    0.0     848412.0   836821.7  35220.0 33468.3 4756.0 4331.8    116    0.804   7      0.037    0.841
17024.0 17024.0 16901.3  0.0   136320.0 91188.6   878208.0   75373.9   35220.0 33468.5 4756.0 4331.8    122    0.859   8      0.114    0.973
17024.0 17024.0  0.0   16901.3 136320.0 90524.2   878208.0   154741.3  35220.0 33468.5 4756.0 4331.8    127    0.900   8      0.114    1.015
17024.0 17024.0  0.0   16901.3 136320.0 67869.0   878208.0   279165.8  35220.0 33468.5 4756.0 4331.8    133    0.953   8      0.114    1.068
17024.0 17024.0 16898.9  0.0   136320.0 29055.4   878208.0   462985.0  35220.0 33469.5 4756.0 4331.8    140    1.020   8      0.114    1.134
17024.0 17024.0  0.0   16898.9 136320.0 32667.9   878208.0   681621.7  35220.0 33472.4 4756.0 4332.9    147    1.089   8      0.114    1.204
17024.0 17024.0  0.0   16902.3 136320.0 27188.4   878208.0   294018.9  35220.0 33472.8 4756.0 4332.9    155    1.174  10      0.128    1.302
17024.0 17024.0 16900.9  0.0   136320.0   0.0     878208.0   607890.7  35220.0 33473.4 4756.0 4332.9    164    1.266  10      0.128    1.394
17024.0 17024.0  0.0   16898.9 136320.0 80996.3   878208.0   225418.4  35220.0 33475.7 4756.0 4332.9    173    1.358  12      0.140    1.499
17024.0 17024.0 16898.9  0.0   136320.0   0.0     878208.0   607899.4  35220.0 33475.7 4756.0 4332.9    184    1.470  12      0.140    1.611
实时监控结果：高频回收，会抢占用户线程，根据实际需要进行调优

# G1 建议大堆使用
4、 改用G1 java -Xmx1024m -Xloggc:/netease/gc10.log  -XX:+UseG1GC -jar performance-1.1.0.jar
S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   
 0.0    0.0    0.0    0.0   55296.0   8192.0   993280.0   592928.3  35200.0 33534.8 4736.0 4331.4    272    3.725   0      0.000    3.725
 0.0    0.0    0.0    0.0   55296.0   8192.0   993280.0   597028.5  35200.0 33534.8 4736.0 4331.4    284    3.988   0      0.000    3.988
 0.0    0.0    0.0    0.0   55296.0   7168.0   993280.0   490485.7  35200.0 33535.9 4736.0 4331.4    295    4.299   0      0.000    4.299
 0.0    0.0    0.0    0.0   55296.0   8192.0   993280.0   603137.7  35200.0 33537.1 4736.0 4331.4    308    4.568   0      0.000    4.568
 0.0    0.0    0.0    0.0   641024.0 22528.0   407552.0   392447.4  35200.0 33537.1 4736.0 4331.4    319    4.869   0      0.000    4.869
 0.0    0.0    0.0    0.0   55296.0   2048.0   993280.0   316671.2  35200.0 33537.1 4736.0 4331.4    330    5.151   0      0.000    5.151
 0.0    0.0    0.0    0.0   55296.0   7168.0   993280.0   614372.8  35200.0 33537.1 4736.0 4331.4    342    5.408   0      0.000    5.408
 0.0    0.0    0.0    0.0   449536.0 44032.0   599040.0   598790.9  35200.0 33537.1 4736.0 4331.4    355    5.715   0      0.000    5.715
 0.0    0.0    0.0    0.0   55296.0   1024.0   993280.0   299773.5  35200.0 33537.1 4736.0 4331.4    367    6.045   0      0.000    6.045
 0.0    0.0    0.0    0.0   55296.0   7168.0   993280.0   625419.5  35200.0 33537.1 4736.0 4331.4    380    6.335   0      0.000    6.335
 实时监控结果：难看的数据
5、增加分区大小 java -Xmx1024m -Xloggc:/netease/gc11.log  -XX:+UseG1GC -XX:G1HeapRegionSize=64m -jar performance-1.1.0.jar
 S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   
 0.0   65536.0  0.0   65536.0 327680.0 262144.0  229376.0   43625.6   35196.0 33417.9 4732.0 4335.1     84    0.899   0      0.000    0.899
 0.0   65536.0  0.0   65536.0 327680.0 229376.0  229376.0   44153.1   35196.0 33417.9 4732.0 4335.1     89    0.944   0      0.000    0.944
 0.0   65536.0  0.0   65536.0 327680.0   0.0     229376.0   43658.6   35196.0 33417.9 4732.0 4335.1     95    1.001   0      0.000    1.001
 0.0   65536.0  0.0   65536.0 327680.0 196608.0  229376.0   43673.1   35196.0 33417.9 4732.0 4335.1    100    1.047   0      0.000    1.047
 0.0   65536.0  0.0   65536.0 327680.0 131072.0  229376.0   43690.6   35196.0 33417.9 4732.0 4335.1    106    1.113   0      0.000    1.113
 0.0   65536.0  0.0   65536.0 327680.0 196608.0  229376.0   43705.6   35196.0 33417.9 4732.0 4335.1    112    1.181   0      0.000    1.181
 0.0   65536.0  0.0   65536.0 327680.0 98304.0   229376.0   44236.6   35196.0 33418.6 4732.0 4335.1    119    1.271   0      0.000    1.271
 0.0   65536.0  0.0   65536.0 327680.0 131072.0  229376.0   43743.6   35196.0 33419.1 4732.0 4335.1    126    1.360   0      0.000    1.360
 0.0   65536.0  0.0   65536.0 327680.0 196608.0  229376.0   44274.6   35196.0 33419.8 4732.0 4335.1    133    1.461   0      0.000    1.461
 0.0   65536.0  0.0   65536.0 393216.0 196608.0  262144.0   43781.6   35196.0 33419.8 4732.0 4335.1    140    1.546   0      0.000    1.546</textarea><wiz_code_mirror><div class="CodeMirror cm-s-default CodeMirror-wrap" data-id="wiz_cm_1545332260020_1024"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 19.9854px; left: 33.6364px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="false"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 2017px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre>x</pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors" style=""><div class="CodeMirror-cursor" style="left: 3.63636px; top: 0px; height: 23.6364px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 实时监控：jstat -gc -h10 $(jcmd | grep "performance-1.1.0.jar" | awk '{print $1}') 1000</span></span></pre></div><div style="position: relative;" class=""><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># Parallel GC  服务器默认  java -Xmx1024m -Xloggc:/netease/gc6.log -jar performance-1.1.0.jar</span></span></pre></div><div style="position: relative;" class=""><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">3</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">UseAdaptiveSizePolicy自适应默认开启，所以Eden区会自动变化大小</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">4</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> S0C &nbsp;  S1C &nbsp;  S0U &nbsp;  S1U &nbsp; &nbsp;  EC &nbsp; &nbsp; &nbsp; EU &nbsp; &nbsp; &nbsp;  OC &nbsp; &nbsp; &nbsp; &nbsp; OU &nbsp; &nbsp; &nbsp; MC &nbsp; &nbsp; MU &nbsp;  CCSC &nbsp; CCSU &nbsp; YGC &nbsp; &nbsp; YGCT &nbsp;  FGC &nbsp;  FGCT &nbsp; &nbsp; GCT &nbsp; </span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">5</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">37376</span>.0 <span class="cm-number">37888</span>.0 <span class="cm-number">34817</span>.1 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">272384</span>.0 <span class="cm-number">92500</span>.6 &nbsp; <span class="cm-number">125952</span>.0 &nbsp; <span class="cm-number">57532</span>.9 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33541</span>.2 <span class="cm-number">4656</span>.0 <span class="cm-number">4335</span>.4 &nbsp; &nbsp;<span class="cm-number">286</span> &nbsp; &nbsp;<span class="cm-number">2</span>.698 &nbsp; <span class="cm-number">7</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.360 &nbsp; &nbsp;<span class="cm-number">3</span>.059</span></pre></div><div style="position: relative;" class=""><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">6</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">36864</span>.0 <span class="cm-number">36864</span>.0 <span class="cm-number">32289</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">275456</span>.0 &nbsp; <span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">125952</span>.0 &nbsp; <span class="cm-number">87877</span>.8 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33541</span>.2 <span class="cm-number">4656</span>.0 <span class="cm-number">4335</span>.4 &nbsp; &nbsp;<span class="cm-number">300</span> &nbsp; &nbsp;<span class="cm-number">2</span>.812 &nbsp; <span class="cm-number">7</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.360 &nbsp; &nbsp;<span class="cm-number">3</span>.173</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">7</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">35328</span>.0 <span class="cm-number">35840</span>.0 <span class="cm-number">31777</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">276480</span>.0 &nbsp; <span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">128000</span>.0 &nbsp; <span class="cm-number">61118</span>.4 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33542</span>.5 <span class="cm-number">4656</span>.0 <span class="cm-number">4335</span>.4 &nbsp; &nbsp;<span class="cm-number">314</span> &nbsp; &nbsp;<span class="cm-number">2</span>.924 &nbsp; <span class="cm-number">8</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.404 &nbsp; &nbsp;<span class="cm-number">3</span>.328</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">8</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">34816</span>.0 <span class="cm-number">34816</span>.0 <span class="cm-number">31297</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">279552</span>.0 <span class="cm-number">139082</span>.4 &nbsp;<span class="cm-number">128000</span>.0 &nbsp; <span class="cm-number">102215</span>.6 &nbsp;<span class="cm-number">35120</span>.0 <span class="cm-number">33555</span>.8 <span class="cm-number">4656</span>.0 <span class="cm-number">4335</span>.4 &nbsp; &nbsp;<span class="cm-number">328</span> &nbsp; &nbsp;<span class="cm-number">3</span>.029 &nbsp; <span class="cm-number">8</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.404 &nbsp; &nbsp;<span class="cm-number">3</span>.433</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">9</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">33792</span>.0 <span class="cm-number">33792</span>.0 <span class="cm-number">30752</span>.9 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">281600</span>.0 <span class="cm-number">181082</span>.7 &nbsp;<span class="cm-number">130048</span>.0 &nbsp; <span class="cm-number">68303</span>.1 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33555</span>.8 <span class="cm-number">4656</span>.0 <span class="cm-number">4335</span>.4 &nbsp; &nbsp;<span class="cm-number">342</span> &nbsp; &nbsp;<span class="cm-number">3</span>.138 &nbsp; <span class="cm-number">9</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.448 &nbsp; &nbsp;<span class="cm-number">3</span>.586</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">10</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">33280</span>.0 <span class="cm-number">33280</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">29728</span>.9 <span class="cm-number">282624</span>.0 <span class="cm-number">132715</span>.1 &nbsp;<span class="cm-number">130048</span>.0 &nbsp; <span class="cm-number">122168</span>.7 &nbsp;<span class="cm-number">35120</span>.0 <span class="cm-number">33555</span>.8 <span class="cm-number">4656</span>.0 <span class="cm-number">4335</span>.4 &nbsp; &nbsp;<span class="cm-number">357</span> &nbsp; &nbsp;<span class="cm-number">3</span>.254 &nbsp; <span class="cm-number">9</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.448 &nbsp; &nbsp;<span class="cm-number">3</span>.701</span></pre></div><div style="position: relative;" class=""><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">11</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">33280</span>.0 <span class="cm-number">33280</span>.0 <span class="cm-number">25152</span>.8 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">282624</span>.0 <span class="cm-number">78765</span>.8 &nbsp; <span class="cm-number">132608</span>.0 &nbsp; <span class="cm-number">98078</span>.6 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33556</span>.9 <span class="cm-number">4656</span>.0 <span class="cm-number">4335</span>.4 &nbsp; &nbsp;<span class="cm-number">372</span> &nbsp; &nbsp;<span class="cm-number">3</span>.361 &nbsp;<span class="cm-number">10</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.490 &nbsp; &nbsp;<span class="cm-number">3</span>.851</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">12</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">31232</span>.0 <span class="cm-number">27136</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">26688</span>.8 <span class="cm-number">285696</span>.0 <span class="cm-number">136307</span>.1 &nbsp;<span class="cm-number">136704</span>.0 &nbsp; <span class="cm-number">76004</span>.6 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33558</span>.1 <span class="cm-number">4656</span>.0 <span class="cm-number">4335</span>.4 &nbsp; &nbsp;<span class="cm-number">387</span> &nbsp; &nbsp;<span class="cm-number">3</span>.479 &nbsp;<span class="cm-number">11</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.542 &nbsp; &nbsp;<span class="cm-number">4</span>.021</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">13</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">31744</span>.0 <span class="cm-number">31232</span>.0 <span class="cm-number">26656</span>.8 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">286208</span>.0 &nbsp; <span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">138752</span>.0 &nbsp; <span class="cm-number">49337</span>.7 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33558</span>.1 <span class="cm-number">4656</span>.0 <span class="cm-number">4335</span>.4 &nbsp; &nbsp;<span class="cm-number">402</span> &nbsp; &nbsp;<span class="cm-number">3</span>.595 &nbsp;<span class="cm-number">12</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.585 &nbsp; &nbsp;<span class="cm-number">4</span>.180</span></pre></div><div class="" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">14</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">29184</span>.0 <span class="cm-number">29184</span>.0 <span class="cm-number">25152</span>.8 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">289792</span>.0 &nbsp; <span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">138752</span>.0 &nbsp; <span class="cm-number">112435</span>.6 &nbsp;<span class="cm-number">35120</span>.0 <span class="cm-number">33558</span>.1 <span class="cm-number">4656</span>.0 <span class="cm-number">4335</span>.4 &nbsp; &nbsp;<span class="cm-number">418</span> &nbsp; &nbsp;<span class="cm-number">3</span>.716 &nbsp;<span class="cm-number">12</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.585 &nbsp; &nbsp;<span class="cm-number">4</span>.301</span></pre></div><div style="position: relative;" class=""><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">15</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">默认情况，实时监控结果：10秒内132次YGC，5次FullGC，单词YGC耗时0.008s，总耗时1.242秒</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">16</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text=""></span></span></pre></div><div style="position: relative;" class=""><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">17</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span>、 调大-XX<span class="cm-def">:ParallelGCThreads</span><span class="cm-operator">=</span><span class="cm-number">4</span>  java <span class="cm-attribute">-Xmx1024m</span> <span class="cm-attribute">-Xloggc</span>:/netease/gc7.log <span class="cm-attribute">-XX</span><span class="cm-def">:ParallelGCThreads</span><span class="cm-operator">=</span><span class="cm-number">4</span> &nbsp;<span class="cm-attribute">-jar</span> performance-1.1.0.jar</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">18</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> S0C &nbsp;  S1C &nbsp;  S0U &nbsp;  S1U &nbsp; &nbsp;  EC &nbsp; &nbsp; &nbsp; EU &nbsp; &nbsp; &nbsp;  OC &nbsp; &nbsp; &nbsp; &nbsp; OU &nbsp; &nbsp; &nbsp; MC &nbsp; &nbsp; MU &nbsp;  CCSC &nbsp; CCSU &nbsp; YGC &nbsp; &nbsp; YGCT &nbsp;  FGC &nbsp;  FGCT &nbsp; &nbsp; GCT &nbsp; </span></pre></div><div style="position: relative;" class=""><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">19</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">47616</span>.0 <span class="cm-number">48128</span>.0 <span class="cm-number">43073</span>.3 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">252416</span>.0 <span class="cm-number">227997</span>.7 &nbsp;<span class="cm-number">130560</span>.0 &nbsp; <span class="cm-number">122261</span>.9 &nbsp;<span class="cm-number">35120</span>.0 <span class="cm-number">33506</span>.0 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.8 &nbsp; &nbsp;<span class="cm-number">197</span> &nbsp; &nbsp;<span class="cm-number">2</span>.479 &nbsp; <span class="cm-number">6</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.359 &nbsp; &nbsp;<span class="cm-number">2</span>.838</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">20</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">47104</span>.0 <span class="cm-number">47104</span>.0 <span class="cm-number">43105</span>.3 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">254976</span>.0 <span class="cm-number">153173</span>.5 &nbsp;<span class="cm-number">116736</span>.0 &nbsp; <span class="cm-number">67205</span>.9 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33506</span>.0 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.8 &nbsp; &nbsp;<span class="cm-number">208</span> &nbsp; &nbsp;<span class="cm-number">2</span>.629 &nbsp; <span class="cm-number">7</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.405 &nbsp; &nbsp;<span class="cm-number">3</span>.034</span></pre></div><div class="" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">21</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">46080</span>.0 <span class="cm-number">46080</span>.0 <span class="cm-number">44097</span>.3 <span class="cm-number">42529</span>.3 <span class="cm-number">257024</span>.0 &nbsp; <span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">116736</span>.0 &nbsp; <span class="cm-number">86822</span>.5 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33506</span>.0 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.8 &nbsp; <span class="cm-number">221</span> &nbsp; &nbsp;<span class="cm-number">2</span>.767 &nbsp; <span class="cm-number">7</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.405 &nbsp; &nbsp;<span class="cm-number">3</span>.172</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">22</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">45568</span>.0 <span class="cm-number">45568</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">42049</span>.3 <span class="cm-number">258048</span>.0 <span class="cm-number">129250</span>.1 &nbsp;<span class="cm-number">116736</span>.0 &nbsp; <span class="cm-number">104391</span>.0 &nbsp;<span class="cm-number">35120</span>.0 <span class="cm-number">33506</span>.0 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.8 &nbsp; &nbsp;<span class="cm-number">233</span> &nbsp; &nbsp;<span class="cm-number">2</span>.933 &nbsp; <span class="cm-number">7</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.405 &nbsp; &nbsp;<span class="cm-number">3</span>.338</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">23</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">44544</span>.0 <span class="cm-number">44544</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">43041</span>.3 <span class="cm-number">260096</span>.0 <span class="cm-number">27359</span>.1 &nbsp; <span class="cm-number">120320</span>.0 &nbsp; <span class="cm-number">68802</span>.0 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33506</span>.0 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.8 &nbsp; &nbsp;<span class="cm-number">245</span> &nbsp; &nbsp;<span class="cm-number">3</span>.111 &nbsp; <span class="cm-number">8</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.463 &nbsp; &nbsp;<span class="cm-number">3</span>.574</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">24</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">44544</span>.0 <span class="cm-number">44544</span>.0 <span class="cm-number">39937</span>.2 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">260096</span>.0 <span class="cm-number">51577</span>.7 &nbsp; <span class="cm-number">120320</span>.0 &nbsp; <span class="cm-number">97642</span>.8 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33506</span>.0 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.8 &nbsp; &nbsp;<span class="cm-number">258</span> &nbsp; &nbsp;<span class="cm-number">3</span>.283 &nbsp; <span class="cm-number">8</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.463 &nbsp; &nbsp;<span class="cm-number">3</span>.746</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">25</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">44544</span>.0 <span class="cm-number">36864</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">36353</span>.1 <span class="cm-number">261120</span>.0 &nbsp;<span class="cm-number">7862</span>.2 &nbsp; <span class="cm-number">121856</span>.0 &nbsp; <span class="cm-number">68276</span>.2 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33506</span>.0 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.8 &nbsp; &nbsp;<span class="cm-number">271</span> &nbsp; &nbsp;<span class="cm-number">3</span>.439 &nbsp; <span class="cm-number">9</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.508 &nbsp; &nbsp;<span class="cm-number">3</span>.947</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">26</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">42496</span>.0 <span class="cm-number">42496</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">37441</span>.1 <span class="cm-number">263680</span>.0 &nbsp; <span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">121856</span>.0 &nbsp; <span class="cm-number">106301</span>.3 &nbsp;<span class="cm-number">35120</span>.0 <span class="cm-number">33506</span>.0 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.8 &nbsp; &nbsp;<span class="cm-number">285</span> &nbsp; &nbsp;<span class="cm-number">3</span>.654 &nbsp; <span class="cm-number">9</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.508 &nbsp; &nbsp;<span class="cm-number">4</span>.162</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">27</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">40960</span>.0 <span class="cm-number">41472</span>.0 <span class="cm-number">37889</span>.2 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">265216</span>.0 &nbsp; <span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">122880</span>.0 &nbsp; <span class="cm-number">85228</span>.3 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33506</span>.0 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.8 &nbsp; &nbsp;<span class="cm-number">298</span> &nbsp; &nbsp;<span class="cm-number">3</span>.834 &nbsp;<span class="cm-number">10</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.551 &nbsp; &nbsp;<span class="cm-number">4</span>.385</span></pre></div><div class="" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">28</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">41472</span>.0 <span class="cm-number">41472</span>.0 <span class="cm-number">37441</span>.1 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">266240</span>.0 &nbsp; <span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">123904</span>.0 &nbsp; <span class="cm-number">57506</span>.1 &nbsp; <span class="cm-number">35120</span>.0 <span class="cm-number">33515</span>.1 <span class="cm-number">4656</span>.0 <span class="cm-number">4334</span>.8 &nbsp; &nbsp;<span class="cm-number">312</span> &nbsp; &nbsp;<span class="cm-number">4</span>.010 &nbsp;<span class="cm-number">11</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.595 &nbsp; &nbsp;<span class="cm-number">4</span>.605</span></pre></div><div style="position: relative;" class=""><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">29</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">实时监控结果：10秒内115次GC，5次fullGC，总耗时1.767，单次YGC时间0.014s 多线程，也不管用</span></pre></div><div style="position: relative;" class=""><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">30</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text=""></span></span></pre></div><div style="position: relative;" class=""><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">31</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span>、 降低耗时，设置-XX<span class="cm-def">:MaxGCPauseMills</span><span class="cm-operator">=</span><span class="cm-number">5</span> &nbsp; java <span class="cm-attribute">-Xmx1024m</span> <span class="cm-attribute">-Xloggc</span>:/netease/gc8.log <span class="cm-attribute">-XX</span><span class="cm-def">:MaxGCPauseMillis</span><span class="cm-operator">=</span><span class="cm-number">5</span> &nbsp;<span class="cm-attribute">-jar</span> performance-1.1.0.jar</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">32</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> S0C &nbsp;  S1C &nbsp;  S0U &nbsp;  S1U &nbsp; &nbsp;  EC &nbsp; &nbsp; &nbsp; EU &nbsp; &nbsp; &nbsp;  OC &nbsp; &nbsp; &nbsp; &nbsp; OU &nbsp; &nbsp; &nbsp; MC &nbsp; &nbsp; MU &nbsp;  CCSC &nbsp; CCSU &nbsp; YGC &nbsp; &nbsp; YGCT &nbsp;  FGC &nbsp;  FGCT &nbsp; &nbsp; GCT &nbsp; </span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">33</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">11264</span>.0 <span class="cm-number">12800</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">50688</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">48128</span>.0 &nbsp; &nbsp;<span class="cm-number">28445</span>.5 &nbsp; <span class="cm-number">35200</span>.0 <span class="cm-number">33483</span>.7 <span class="cm-number">4736</span>.0 <span class="cm-number">4334</span>.6 &nbsp; &nbsp; <span class="cm-number">22</span> &nbsp; &nbsp;<span class="cm-number">0</span>.136 &nbsp; <span class="cm-number">3</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.184 &nbsp; &nbsp;<span class="cm-number">0</span>.320</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">34</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">26624</span>.0 <span class="cm-number">25088</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">18496</span>.6 <span class="cm-number">44032</span>.0 &nbsp;<span class="cm-number">11192</span>.5 &nbsp; <span class="cm-number">48128</span>.0 &nbsp; &nbsp;<span class="cm-number">32045</span>.6 &nbsp; <span class="cm-number">35200</span>.0 <span class="cm-number">33483</span>.7 <span class="cm-number">4736</span>.0 <span class="cm-number">4334</span>.6 &nbsp; &nbsp; <span class="cm-number">29</span> &nbsp; &nbsp;<span class="cm-number">0</span>.165 &nbsp; <span class="cm-number">3</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.184 &nbsp; &nbsp;<span class="cm-number">0</span>.349</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">35</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">33792</span>.0 <span class="cm-number">34304</span>.0 <span class="cm-number">21504</span>.7 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">39424</span>.0 &nbsp;<span class="cm-number">11034</span>.2 &nbsp; <span class="cm-number">48128</span>.0 &nbsp; &nbsp;<span class="cm-number">36789</span>.8 &nbsp; <span class="cm-number">35200</span>.0 <span class="cm-number">33483</span>.7 <span class="cm-number">4736</span>.0 <span class="cm-number">4334</span>.6 &nbsp; &nbsp; <span class="cm-number">40</span> &nbsp; &nbsp;<span class="cm-number">0</span>.218 &nbsp; <span class="cm-number">3</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.184 &nbsp; &nbsp;<span class="cm-number">0</span>.401</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">36</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">34304</span>.0 <span class="cm-number">34816</span>.0 <span class="cm-number">27712</span>.8 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">37888</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">64512</span>.0 &nbsp; &nbsp;<span class="cm-number">44331</span>.6 &nbsp; <span class="cm-number">35200</span>.0 <span class="cm-number">33483</span>.9 <span class="cm-number">4736</span>.0 <span class="cm-number">4334</span>.6 &nbsp; &nbsp; <span class="cm-number">54</span> &nbsp; &nbsp;<span class="cm-number">0</span>.296 &nbsp; <span class="cm-number">5</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.266 &nbsp; &nbsp;<span class="cm-number">0</span>.561</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">37</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">32768</span>.0 <span class="cm-number">26624</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">37888</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">76288</span>.0 &nbsp; &nbsp;<span class="cm-number">49968</span>.7 &nbsp; <span class="cm-number">35200</span>.0 <span class="cm-number">33483</span>.9 <span class="cm-number">4736</span>.0 <span class="cm-number">4334</span>.6 &nbsp; &nbsp; <span class="cm-number">69</span> &nbsp; &nbsp;<span class="cm-number">0</span>.385 &nbsp; <span class="cm-number">9</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.429 &nbsp; &nbsp;<span class="cm-number">0</span>.815</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">38</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">47616</span>.0 <span class="cm-number">48640</span>.0 <span class="cm-number">39489</span>.2 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">28672</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">84992</span>.0 &nbsp; &nbsp;<span class="cm-number">54068</span>.5 &nbsp; <span class="cm-number">35200</span>.0 <span class="cm-number">33483</span>.9 <span class="cm-number">4736</span>.0 <span class="cm-number">4334</span>.6 &nbsp; &nbsp; <span class="cm-number">92</span> &nbsp; &nbsp;<span class="cm-number">0</span>.543 &nbsp;<span class="cm-number">11</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.513 &nbsp; &nbsp;<span class="cm-number">1</span>.056</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">39</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">57856</span>.0 <span class="cm-number">57856</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">19968</span>.6 <span class="cm-number">20480</span>.0 &nbsp; <span class="cm-number">9283</span>.9 &nbsp; <span class="cm-number">100352</span>.0 &nbsp; <span class="cm-number">59194</span>.0 &nbsp; <span class="cm-number">35200</span>.0 <span class="cm-number">33484</span>.9 <span class="cm-number">4736</span>.0 <span class="cm-number">4334</span>.6 &nbsp; &nbsp;<span class="cm-number">123</span> &nbsp; &nbsp;<span class="cm-number">0</span>.764 &nbsp;<span class="cm-number">15</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.682 &nbsp; &nbsp;<span class="cm-number">1</span>.446</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">40</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">35840</span>.0 <span class="cm-number">36864</span>.0 <span class="cm-number">13312</span>.4 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">13824</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">115200</span>.0 &nbsp; <span class="cm-number">88901</span>.4 &nbsp; <span class="cm-number">35200</span>.0 <span class="cm-number">33487</span>.8 <span class="cm-number">4736</span>.0 <span class="cm-number">4335</span>.7 &nbsp; &nbsp;<span class="cm-number">172</span> &nbsp; &nbsp;<span class="cm-number">1</span>.076 &nbsp;<span class="cm-number">26</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1</span>.113 &nbsp; &nbsp;<span class="cm-number">2</span>.188</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">41</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">24576</span>.0 <span class="cm-number">17408</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">16896</span>.5 &nbsp;<span class="cm-number">9216</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">99840</span>.0 &nbsp; &nbsp;<span class="cm-number">82761</span>.6 &nbsp; <span class="cm-number">35200</span>.0 <span class="cm-number">33488</span>.2 <span class="cm-number">4736</span>.0 <span class="cm-number">4335</span>.7 &nbsp; &nbsp;<span class="cm-number">227</span> &nbsp; &nbsp;<span class="cm-number">1</span>.363 &nbsp;<span class="cm-number">40</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1</span>.757 &nbsp; &nbsp;<span class="cm-number">3</span>.121</span></pre></div><div class="" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">42</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">14848</span>.0 <span class="cm-number">14848</span>.0 <span class="cm-number">9216</span>.3 &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">6144</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">95744</span>.0 &nbsp; &nbsp;<span class="cm-number">84799</span>.3 &nbsp; <span class="cm-number">35200</span>.0 <span class="cm-number">33488</span>.5 <span class="cm-number">4736</span>.0 <span class="cm-number">4335</span>.7 &nbsp; &nbsp;<span class="cm-number">310</span> &nbsp; &nbsp;<span class="cm-number">1</span>.657 &nbsp;<span class="cm-number">55</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">2</span>.399 &nbsp; &nbsp;<span class="cm-number">4</span>.056</span></pre></div><div style="position: relative;" class=""><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">43</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">实时监控结果：结果不太好，不合适。</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">44</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text=""></span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">45</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># CMS</span></span></pre></div><div style="position: relative;" class=""><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">46</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span>、 改用CMS回收器  java <span class="cm-attribute">-Xmx1024m</span> <span class="cm-attribute">-Xloggc</span>:/netease/gc9.log <span class="cm-attribute">-XX</span>:<span class="cm-operator">+</span>UseConcMarkSweepGC &nbsp;<span class="cm-attribute">-jar</span> performance-1.1.0.jar</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">47</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> S0C &nbsp;  S1C &nbsp;  S0U &nbsp;  S1U &nbsp; &nbsp;  EC &nbsp; &nbsp; &nbsp; EU &nbsp; &nbsp; &nbsp;  OC &nbsp; &nbsp; &nbsp; &nbsp; OU &nbsp; &nbsp; &nbsp; MC &nbsp; &nbsp; MU &nbsp;  CCSC &nbsp; CCSU &nbsp; YGC &nbsp; &nbsp; YGCT &nbsp;  FGC &nbsp;  FGCT &nbsp; &nbsp; GCT &nbsp; </span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">48</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2048</span>.0 <span class="cm-number">2048</span>.0 <span class="cm-number">1536</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">16384</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">848412</span>.0 &nbsp; <span class="cm-number">836821</span>.7 &nbsp;<span class="cm-number">35220</span>.0 <span class="cm-number">33468</span>.3 <span class="cm-number">4756</span>.0 <span class="cm-number">4331</span>.8 &nbsp; &nbsp;<span class="cm-number">116</span> &nbsp; &nbsp;<span class="cm-number">0</span>.804 &nbsp; <span class="cm-number">7</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.037 &nbsp; &nbsp;<span class="cm-number">0</span>.841</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">49</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">17024</span>.0 <span class="cm-number">17024</span>.0 <span class="cm-number">16901</span>.3 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">136320</span>.0 <span class="cm-number">91188</span>.6 &nbsp; <span class="cm-number">878208</span>.0 &nbsp; <span class="cm-number">75373</span>.9 &nbsp; <span class="cm-number">35220</span>.0 <span class="cm-number">33468</span>.5 <span class="cm-number">4756</span>.0 <span class="cm-number">4331</span>.8 &nbsp; &nbsp;<span class="cm-number">122</span> &nbsp; &nbsp;<span class="cm-number">0</span>.859 &nbsp; <span class="cm-number">8</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.114 &nbsp; &nbsp;<span class="cm-number">0</span>.973</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">50</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">17024</span>.0 <span class="cm-number">17024</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">16901</span>.3 <span class="cm-number">136320</span>.0 <span class="cm-number">90524</span>.2 &nbsp; <span class="cm-number">878208</span>.0 &nbsp; <span class="cm-number">154741</span>.3 &nbsp;<span class="cm-number">35220</span>.0 <span class="cm-number">33468</span>.5 <span class="cm-number">4756</span>.0 <span class="cm-number">4331</span>.8 &nbsp; &nbsp;<span class="cm-number">127</span> &nbsp; &nbsp;<span class="cm-number">0</span>.900 &nbsp; <span class="cm-number">8</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.114 &nbsp; &nbsp;<span class="cm-number">1</span>.015</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">51</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">17024</span>.0 <span class="cm-number">17024</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">16901</span>.3 <span class="cm-number">136320</span>.0 <span class="cm-number">67869</span>.0 &nbsp; <span class="cm-number">878208</span>.0 &nbsp; <span class="cm-number">279165</span>.8 &nbsp;<span class="cm-number">35220</span>.0 <span class="cm-number">33468</span>.5 <span class="cm-number">4756</span>.0 <span class="cm-number">4331</span>.8 &nbsp; &nbsp;<span class="cm-number">133</span> &nbsp; &nbsp;<span class="cm-number">0</span>.953 &nbsp; <span class="cm-number">8</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.114 &nbsp; &nbsp;<span class="cm-number">1</span>.068</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">52</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">17024</span>.0 <span class="cm-number">17024</span>.0 <span class="cm-number">16898</span>.9 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">136320</span>.0 <span class="cm-number">29055</span>.4 &nbsp; <span class="cm-number">878208</span>.0 &nbsp; <span class="cm-number">462985</span>.0 &nbsp;<span class="cm-number">35220</span>.0 <span class="cm-number">33469</span>.5 <span class="cm-number">4756</span>.0 <span class="cm-number">4331</span>.8 &nbsp; &nbsp;<span class="cm-number">140</span> &nbsp; &nbsp;<span class="cm-number">1</span>.020 &nbsp; <span class="cm-number">8</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.114 &nbsp; &nbsp;<span class="cm-number">1</span>.134</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">53</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">17024</span>.0 <span class="cm-number">17024</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">16898</span>.9 <span class="cm-number">136320</span>.0 <span class="cm-number">32667</span>.9 &nbsp; <span class="cm-number">878208</span>.0 &nbsp; <span class="cm-number">681621</span>.7 &nbsp;<span class="cm-number">35220</span>.0 <span class="cm-number">33472</span>.4 <span class="cm-number">4756</span>.0 <span class="cm-number">4332</span>.9 &nbsp; &nbsp;<span class="cm-number">147</span> &nbsp; &nbsp;<span class="cm-number">1</span>.089 &nbsp; <span class="cm-number">8</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.114 &nbsp; &nbsp;<span class="cm-number">1</span>.204</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">54</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">17024</span>.0 <span class="cm-number">17024</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">16902</span>.3 <span class="cm-number">136320</span>.0 <span class="cm-number">27188</span>.4 &nbsp; <span class="cm-number">878208</span>.0 &nbsp; <span class="cm-number">294018</span>.9 &nbsp;<span class="cm-number">35220</span>.0 <span class="cm-number">33472</span>.8 <span class="cm-number">4756</span>.0 <span class="cm-number">4332</span>.9 &nbsp; &nbsp;<span class="cm-number">155</span> &nbsp; &nbsp;<span class="cm-number">1</span>.174 &nbsp;<span class="cm-number">10</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.128 &nbsp; &nbsp;<span class="cm-number">1</span>.302</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">55</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">17024</span>.0 <span class="cm-number">17024</span>.0 <span class="cm-number">16900</span>.9 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">136320</span>.0 &nbsp; <span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">878208</span>.0 &nbsp; <span class="cm-number">607890</span>.7 &nbsp;<span class="cm-number">35220</span>.0 <span class="cm-number">33473</span>.4 <span class="cm-number">4756</span>.0 <span class="cm-number">4332</span>.9 &nbsp; &nbsp;<span class="cm-number">164</span> &nbsp; &nbsp;<span class="cm-number">1</span>.266 &nbsp;<span class="cm-number">10</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.128 &nbsp; &nbsp;<span class="cm-number">1</span>.394</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">56</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">17024</span>.0 <span class="cm-number">17024</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">16898</span>.9 <span class="cm-number">136320</span>.0 <span class="cm-number">80996</span>.3 &nbsp; <span class="cm-number">878208</span>.0 &nbsp; <span class="cm-number">225418</span>.4 &nbsp;<span class="cm-number">35220</span>.0 <span class="cm-number">33475</span>.7 <span class="cm-number">4756</span>.0 <span class="cm-number">4332</span>.9 &nbsp; &nbsp;<span class="cm-number">173</span> &nbsp; &nbsp;<span class="cm-number">1</span>.358 &nbsp;<span class="cm-number">12</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.140 &nbsp; &nbsp;<span class="cm-number">1</span>.499</span></pre></div><div class="" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">57</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">17024</span>.0 <span class="cm-number">17024</span>.0 <span class="cm-number">16898</span>.9 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">136320</span>.0 &nbsp; <span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">878208</span>.0 &nbsp; <span class="cm-number">607899</span>.4 &nbsp;<span class="cm-number">35220</span>.0 <span class="cm-number">33475</span>.7 <span class="cm-number">4756</span>.0 <span class="cm-number">4332</span>.9 &nbsp; &nbsp;<span class="cm-number">184</span> &nbsp; &nbsp;<span class="cm-number">1</span>.470 &nbsp;<span class="cm-number">12</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.140 &nbsp; &nbsp;<span class="cm-number">1</span>.611</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">58</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">实时监控结果：高频回收，会抢占用户线程，根据实际需要进行调优</span></pre></div><div class="" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">59</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text=""></span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">60</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># G1 建议大堆使用</span></span></pre></div><div style="position: relative;" class=""><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">61</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span>、 改用G1 java <span class="cm-attribute">-Xmx1024m</span> <span class="cm-attribute">-Xloggc</span>:/netease/gc10.log &nbsp;<span class="cm-attribute">-XX</span>:<span class="cm-operator">+</span>UseG1GC <span class="cm-attribute">-jar</span> performance-1.1.0.jar</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">62</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">S0C &nbsp;  S1C &nbsp;  S0U &nbsp;  S1U &nbsp; &nbsp;  EC &nbsp; &nbsp; &nbsp; EU &nbsp; &nbsp; &nbsp;  OC &nbsp; &nbsp; &nbsp; &nbsp; OU &nbsp; &nbsp; &nbsp; MC &nbsp; &nbsp; MU &nbsp;  CCSC &nbsp; CCSU &nbsp; YGC &nbsp; &nbsp; YGCT &nbsp;  FGC &nbsp;  FGCT &nbsp; &nbsp; GCT &nbsp; </span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">63</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">55296</span>.0 &nbsp; <span class="cm-number">8192</span>.0 &nbsp; <span class="cm-number">993280</span>.0 &nbsp; <span class="cm-number">592928</span>.3 &nbsp;<span class="cm-number">35200</span>.0 <span class="cm-number">33534</span>.8 <span class="cm-number">4736</span>.0 <span class="cm-number">4331</span>.4 &nbsp; &nbsp;<span class="cm-number">272</span> &nbsp; &nbsp;<span class="cm-number">3</span>.725 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">3</span>.725</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">64</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">55296</span>.0 &nbsp; <span class="cm-number">8192</span>.0 &nbsp; <span class="cm-number">993280</span>.0 &nbsp; <span class="cm-number">597028</span>.5 &nbsp;<span class="cm-number">35200</span>.0 <span class="cm-number">33534</span>.8 <span class="cm-number">4736</span>.0 <span class="cm-number">4331</span>.4 &nbsp; &nbsp;<span class="cm-number">284</span> &nbsp; &nbsp;<span class="cm-number">3</span>.988 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">3</span>.988</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">65</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">55296</span>.0 &nbsp; <span class="cm-number">7168</span>.0 &nbsp; <span class="cm-number">993280</span>.0 &nbsp; <span class="cm-number">490485</span>.7 &nbsp;<span class="cm-number">35200</span>.0 <span class="cm-number">33535</span>.9 <span class="cm-number">4736</span>.0 <span class="cm-number">4331</span>.4 &nbsp; &nbsp;<span class="cm-number">295</span> &nbsp; &nbsp;<span class="cm-number">4</span>.299 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">4</span>.299</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">66</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">55296</span>.0 &nbsp; <span class="cm-number">8192</span>.0 &nbsp; <span class="cm-number">993280</span>.0 &nbsp; <span class="cm-number">603137</span>.7 &nbsp;<span class="cm-number">35200</span>.0 <span class="cm-number">33537</span>.1 <span class="cm-number">4736</span>.0 <span class="cm-number">4331</span>.4 &nbsp; &nbsp;<span class="cm-number">308</span> &nbsp; &nbsp;<span class="cm-number">4</span>.568 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">4</span>.568</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">67</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">641024</span>.0 <span class="cm-number">22528</span>.0 &nbsp; <span class="cm-number">407552</span>.0 &nbsp; <span class="cm-number">392447</span>.4 &nbsp;<span class="cm-number">35200</span>.0 <span class="cm-number">33537</span>.1 <span class="cm-number">4736</span>.0 <span class="cm-number">4331</span>.4 &nbsp; &nbsp;<span class="cm-number">319</span> &nbsp; &nbsp;<span class="cm-number">4</span>.869 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">4</span>.869</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">68</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">55296</span>.0 &nbsp; <span class="cm-number">2048</span>.0 &nbsp; <span class="cm-number">993280</span>.0 &nbsp; <span class="cm-number">316671</span>.2 &nbsp;<span class="cm-number">35200</span>.0 <span class="cm-number">33537</span>.1 <span class="cm-number">4736</span>.0 <span class="cm-number">4331</span>.4 &nbsp; &nbsp;<span class="cm-number">330</span> &nbsp; &nbsp;<span class="cm-number">5</span>.151 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">5</span>.151</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">69</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">55296</span>.0 &nbsp; <span class="cm-number">7168</span>.0 &nbsp; <span class="cm-number">993280</span>.0 &nbsp; <span class="cm-number">614372</span>.8 &nbsp;<span class="cm-number">35200</span>.0 <span class="cm-number">33537</span>.1 <span class="cm-number">4736</span>.0 <span class="cm-number">4331</span>.4 &nbsp; &nbsp;<span class="cm-number">342</span> &nbsp; &nbsp;<span class="cm-number">5</span>.408 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">5</span>.408</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">70</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">449536</span>.0 <span class="cm-number">44032</span>.0 &nbsp; <span class="cm-number">599040</span>.0 &nbsp; <span class="cm-number">598790</span>.9 &nbsp;<span class="cm-number">35200</span>.0 <span class="cm-number">33537</span>.1 <span class="cm-number">4736</span>.0 <span class="cm-number">4331</span>.4 &nbsp; &nbsp;<span class="cm-number">355</span> &nbsp; &nbsp;<span class="cm-number">5</span>.715 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">5</span>.715</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">71</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">55296</span>.0 &nbsp; <span class="cm-number">1024</span>.0 &nbsp; <span class="cm-number">993280</span>.0 &nbsp; <span class="cm-number">299773</span>.5 &nbsp;<span class="cm-number">35200</span>.0 <span class="cm-number">33537</span>.1 <span class="cm-number">4736</span>.0 <span class="cm-number">4331</span>.4 &nbsp; &nbsp;<span class="cm-number">367</span> &nbsp; &nbsp;<span class="cm-number">6</span>.045 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">6</span>.045</span></pre></div><div class="" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">72</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">55296</span>.0 &nbsp; <span class="cm-number">7168</span>.0 &nbsp; <span class="cm-number">993280</span>.0 &nbsp; <span class="cm-number">625419</span>.5 &nbsp;<span class="cm-number">35200</span>.0 <span class="cm-number">33537</span>.1 <span class="cm-number">4736</span>.0 <span class="cm-number">4331</span>.4 &nbsp; &nbsp;<span class="cm-number">380</span> &nbsp; &nbsp;<span class="cm-number">6</span>.335 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">6</span>.335</span></pre></div><div style="position: relative;" class=""><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">73</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> 实时监控结果：难看的数据</span></pre></div><div style="position: relative;" class=""><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">74</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span>、增加分区大小 java <span class="cm-attribute">-Xmx1024m</span> <span class="cm-attribute">-Xloggc</span>:/netease/gc11.log &nbsp;<span class="cm-attribute">-XX</span>:<span class="cm-operator">+</span>UseG1GC <span class="cm-attribute">-XX</span><span class="cm-def">:G1HeapRegionSize</span><span class="cm-operator">=</span>64m <span class="cm-attribute">-jar</span> performance-1.1.0.jar</span></pre></div><div class="" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">75</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> S0C &nbsp;  S1C &nbsp;  S0U &nbsp;  S1U &nbsp; &nbsp;  EC &nbsp; &nbsp; &nbsp; EU &nbsp; &nbsp; &nbsp;  OC &nbsp; &nbsp; &nbsp; &nbsp; OU &nbsp; &nbsp; &nbsp; MC &nbsp; &nbsp; MU &nbsp;  CCSC &nbsp; CCSU &nbsp; YGC &nbsp; &nbsp; YGCT &nbsp;  FGC &nbsp;  FGCT &nbsp; &nbsp; GCT &nbsp; </span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">76</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">65536</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">65536</span>.0 <span class="cm-number">327680</span>.0 <span class="cm-number">262144</span>.0 &nbsp;<span class="cm-number">229376</span>.0 &nbsp; <span class="cm-number">43625</span>.6 &nbsp; <span class="cm-number">35196</span>.0 <span class="cm-number">33417</span>.9 <span class="cm-number">4732</span>.0 <span class="cm-number">4335</span>.1 &nbsp; &nbsp; <span class="cm-number">84</span> &nbsp; &nbsp;<span class="cm-number">0</span>.899 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">0</span>.899</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">77</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">65536</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">65536</span>.0 <span class="cm-number">327680</span>.0 <span class="cm-number">229376</span>.0 &nbsp;<span class="cm-number">229376</span>.0 &nbsp; <span class="cm-number">44153</span>.1 &nbsp; <span class="cm-number">35196</span>.0 <span class="cm-number">33417</span>.9 <span class="cm-number">4732</span>.0 <span class="cm-number">4335</span>.1 &nbsp; &nbsp; <span class="cm-number">89</span> &nbsp; &nbsp;<span class="cm-number">0</span>.944 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">0</span>.944</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">78</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">65536</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">65536</span>.0 <span class="cm-number">327680</span>.0 &nbsp; <span class="cm-number">0</span>.0 &nbsp; &nbsp; <span class="cm-number">229376</span>.0 &nbsp; <span class="cm-number">43658</span>.6 &nbsp; <span class="cm-number">35196</span>.0 <span class="cm-number">33417</span>.9 <span class="cm-number">4732</span>.0 <span class="cm-number">4335</span>.1 &nbsp; &nbsp; <span class="cm-number">95</span> &nbsp; &nbsp;<span class="cm-number">1</span>.001 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">1</span>.001</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">79</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">65536</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">65536</span>.0 <span class="cm-number">327680</span>.0 <span class="cm-number">196608</span>.0 &nbsp;<span class="cm-number">229376</span>.0 &nbsp; <span class="cm-number">43673</span>.1 &nbsp; <span class="cm-number">35196</span>.0 <span class="cm-number">33417</span>.9 <span class="cm-number">4732</span>.0 <span class="cm-number">4335</span>.1 &nbsp; &nbsp;<span class="cm-number">100</span> &nbsp; &nbsp;<span class="cm-number">1</span>.047 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">1</span>.047</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">80</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">65536</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">65536</span>.0 <span class="cm-number">327680</span>.0 <span class="cm-number">131072</span>.0 &nbsp;<span class="cm-number">229376</span>.0 &nbsp; <span class="cm-number">43690</span>.6 &nbsp; <span class="cm-number">35196</span>.0 <span class="cm-number">33417</span>.9 <span class="cm-number">4732</span>.0 <span class="cm-number">4335</span>.1 &nbsp; &nbsp;<span class="cm-number">106</span> &nbsp; &nbsp;<span class="cm-number">1</span>.113 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">1</span>.113</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">81</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">65536</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">65536</span>.0 <span class="cm-number">327680</span>.0 <span class="cm-number">196608</span>.0 &nbsp;<span class="cm-number">229376</span>.0 &nbsp; <span class="cm-number">43705</span>.6 &nbsp; <span class="cm-number">35196</span>.0 <span class="cm-number">33417</span>.9 <span class="cm-number">4732</span>.0 <span class="cm-number">4335</span>.1 &nbsp; &nbsp;<span class="cm-number">112</span> &nbsp; &nbsp;<span class="cm-number">1</span>.181 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">1</span>.181</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">82</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">65536</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">65536</span>.0 <span class="cm-number">327680</span>.0 <span class="cm-number">98304</span>.0 &nbsp; <span class="cm-number">229376</span>.0 &nbsp; <span class="cm-number">44236</span>.6 &nbsp; <span class="cm-number">35196</span>.0 <span class="cm-number">33418</span>.6 <span class="cm-number">4732</span>.0 <span class="cm-number">4335</span>.1 &nbsp; &nbsp;<span class="cm-number">119</span> &nbsp; &nbsp;<span class="cm-number">1</span>.271 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">1</span>.271</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">83</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">65536</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">65536</span>.0 <span class="cm-number">327680</span>.0 <span class="cm-number">131072</span>.0 &nbsp;<span class="cm-number">229376</span>.0 &nbsp; <span class="cm-number">43743</span>.6 &nbsp; <span class="cm-number">35196</span>.0 <span class="cm-number">33419</span>.1 <span class="cm-number">4732</span>.0 <span class="cm-number">4335</span>.1 &nbsp; &nbsp;<span class="cm-number">126</span> &nbsp; &nbsp;<span class="cm-number">1</span>.360 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">1</span>.360</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">84</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">65536</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">65536</span>.0 <span class="cm-number">327680</span>.0 <span class="cm-number">196608</span>.0 &nbsp;<span class="cm-number">229376</span>.0 &nbsp; <span class="cm-number">44274</span>.6 &nbsp; <span class="cm-number">35196</span>.0 <span class="cm-number">33419</span>.8 <span class="cm-number">4732</span>.0 <span class="cm-number">4335</span>.1 &nbsp; &nbsp;<span class="cm-number">133</span> &nbsp; &nbsp;<span class="cm-number">1</span>.461 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">1</span>.461</span></pre></div><div class="" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">85</div></div><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">65536</span>.0 &nbsp;<span class="cm-number">0</span>.0 &nbsp; <span class="cm-number">65536</span>.0 <span class="cm-number">393216</span>.0 <span class="cm-number">196608</span>.0 &nbsp;<span class="cm-number">262144</span>.0 &nbsp; <span class="cm-number">43781</span>.6 &nbsp; <span class="cm-number">35196</span>.0 <span class="cm-number">33419</span>.8 <span class="cm-number">4732</span>.0 <span class="cm-number">4335</span>.1 &nbsp; &nbsp;<span class="cm-number">140</span> &nbsp; &nbsp;<span class="cm-number">1</span>.546 &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">0</span>.000 &nbsp; &nbsp;<span class="cm-number">1</span>.546</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 2017px;"></div><div class="CodeMirror-gutters" style="height: 2047px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><p></p><p></p><font color="#444444"><b><br></b></font><p></p><p><font color="#444444"><span style="font-size: 0.917rem; line-height: 20.4px;"><b>3、 结语</b></span></font></p><p><font color="#444444"><span style="font-size: 0.917rem; line-height: 20.4px;">主要是演示切换的过程和思路，实际还是要结合系统情况、系统需要来调整。</span></font></p><p><font color="#444444"><span style="font-size: 0.917rem; line-height: 20.4px;">1、 GC调优就是逐步调试的过程，对每个参数的含义了解后，再根据官方手册，一个个调试，找到符合应用的最佳配置点。</span></font><span style="font-size: 0.917rem; line-height: 20.4px; color: rgb(68, 68, 68);">是一个细致活，难度高。</span></p><p><font color="#444444"><span style="font-size: 0.917rem; line-height: 20.4px;">2、 再重复一句，性能问题，98.75%上是业务代码上面。</span></font></p><p><font color="#444444"><span style="font-size: 0.917rem; line-height: 20.4px;">3、 无监控，不调优。</span></font></p></body></html>